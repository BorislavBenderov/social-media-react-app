/*! For license information please see main.fe86fd95.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Se(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==xe||null!==Ee)&&(Ne(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){De=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,je=null,Ue=!1,Fe=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,St,Tt=!1,It=[],Ct=null,Nt=null,Rt=null,At=new Map,Ot=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==Rt&&Ut(Rt)&&(Rt=null),At.forEach(Ft),Ot.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==Rt&&zt(Rt,e),At.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=j({},ln,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=an(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(An),Dn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,jn=c&&(!Pn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Xn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Sr("animationend"),Ir=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Pr=Ar[Dr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Ir,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=je;Me=!1,je=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Ir:case Cr:u=yn;break;case Nr:u=Rn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Hn(s))if(Yn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Oe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Ei(Ii),Ni=Ei(!1),Ri=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ni),Si(Ci)}function Pi(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ri=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ti(Ci,e)):Si(Ni),Ti(Ni,n)}var Ui=null,Fi=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Xi=null,$i=1,Yi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Yi,Gi[Qi++]=Xi,Xi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Xi;)Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Al(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Al(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Si(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nl(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Oi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Oi(t)?Ri:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Pl(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pl(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Ul(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?c=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Ll(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Pl(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Xa(!0),Ya=Xa(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ti(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Mu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Oo(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Fo(9,Po.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nl(t,e,1,-1)}function Uo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Xo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ca(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Uo,useDebugValue:Xo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Nu.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Xo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},ls={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Co)},useDebugValue:Xo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Du,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Oi(n)?Ri:Ci.current;return a=Ai(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=Ai(t,l=Oi(n)?Ri:Ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Ra=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Ra?("function"===typeof c&&(Va(t,n,c,r),u=t.memoizedState),(s=Ra||Ba(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ai(t,u=Oi(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Ra=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(l=Ra||Ba(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ds,Ps,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ml(u,i,0,null),e=Ll(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(o=Ll(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nl(r,e,i,-1))}return vl(),Fs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Yi,Gi[Qi++]=Xi,$i=e.id,Yi=e.overflow,Xi=t),(t=Us(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dl(r,s):(s=Ll(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Oi(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=X(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pu&&(Pu=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return _a(t.type._context),Ks(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Ye()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,$s=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){El(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=cu,i=fu;cu=null,hu(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,hu(e,t,n),$s=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));du(o,s,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){El(e,e.return,m)}try{nu(5,e,e.return)}catch(m){El(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){El(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){El(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){El(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){El(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Ye())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||f,vu(t,e),$s=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){El(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){El(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){El(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Xs;var l=$s;if(Xs=o,($s=u)&&!l)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Js=u):_u(i);for(;null!==a;)Js=a,ku(a,t,n),a=a.sibling;Js=i,Xs=s,$s=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(d){El(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){El(t,i,u)}}var a=t.return;try{iu(t)}catch(u){El(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){El(t,o,u)}}}catch(u){El(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,Eu=Math.ceil,Su=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Iu=b.ReactCurrentBatchConfig,Cu=0,Nu=null,Ru=null,Au=0,Ou=0,Du=Ei(0),Pu=0,Lu=null,Mu=0,ju=0,Uu=0,Fu=null,Vu=null,zu=0,Bu=1/0,qu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Qu=null,Xu=0,$u=0,Yu=null,Ju=-1,Zu=0;function el(){return 0!==(6&Cu)?Ye():-1!==Ju?Ju:Ju=Ye()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Au?Au&-Au:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Yu=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(ju|=n),4===Pu&&sl(e,Au)),rl(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Bu=Ye()+500,Fi&&Bi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(ul.bind(null,e)):zi(ul.bind(null,e)),oi((function(){0===(6&Cu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Cu;Cu|=2;var o=pl();for(Nu===e&&Au===t||(qu=null,Bu=Ye()+500,hl(e,t));;)try{gl();break}catch(u){dl(e,u)}wa(),Su.current=o,Cu=i,null!==Ru?t=0:(Nu=null,Au=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Lu,hl(e,0),sl(e,r),rl(e,Ye()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Lu,hl(e,0),sl(e,r),rl(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Vu,qu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=zu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Vu,qu),t);break}wl(e,Vu,qu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Vu,qu),r);break}wl(e,Vu,qu);break;default:throw Error(a(329))}}}return rl(e,Ye()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Vu,Vu=n,null!==t&&ol(t)),e}function ol(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sl(e,t){for(t&=~Uu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Cu))throw Error(a(327));_l();var t=ht(e,0);if(0===(1&t))return rl(e,Ye()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Lu,hl(e,0),sl(e,t),rl(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Vu,qu),rl(e,Ye()),null}function ll(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Bu=Ye()+500,Fi&&Bi())}}function cl(e){null!==Qu&&0===Qu.tag&&0===(6&Cu)&&_l();var t=Cu;Cu|=1;var n=Iu.transition,r=kt;try{if(Iu.transition=null,kt=1,e)return e()}finally{kt=r,Iu.transition=n,0===(6&(Cu=t))&&Bi()}}function fl(){Ou=Du.current,Si(Du)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ni),Si(Ci),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:_a(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Nu=e,Ru=e=Dl(e.current,null),Au=Ou=t,Pu=0,Lu=null,Uu=ju=Mu=0,Vu=Fu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dl(e,t){for(;;){var n=Ru;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Pu=1,Lu=t,Ru=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Au,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Pu&&(Pu=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(b){t=b,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function pl(){var e=Su.current;return Su.current=os,null===e?os:e}function vl(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Nu||0===(268435455&Mu)&&0===(268435455&ju)||sl(Nu,Au)}function ml(e,t){var n=Cu;Cu|=2;var r=pl();for(Nu===e&&Au===t||(qu=null,hl(e,t));;)try{yl();break}catch(i){dl(e,i)}if(wa(),Cu=n,Su.current=r,null!==Ru)throw Error(a(261));return Nu=null,Au=0,Pu}function yl(){for(;null!==Ru;)kl(Ru)}function gl(){for(;null!==Ru&&!Xe();)kl(Ru)}function kl(e){var t=xu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bl(e):Ru=t,Tu.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ou)))return void(Ru=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Pu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Pu&&(Pu=5)}function wl(e,t,n){var r=kt,i=Iu.transition;try{Iu.transition=null,kt=1,function(e,t,n,r){do{_l()}while(null!==Qu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Ru=Nu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nl(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=kt;kt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),$e(),Cu=u,kt=s,Iu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Xu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Xu)&&0!==e.tag&&_l(),0!==(1&(o=e.pendingLanes))?e===Yu?$u++:($u=0,Yu=e):$u=0,Bi()}(e,t,n,r)}finally{Iu.transition=i,kt=r}return null}function _l(){if(null!==Qu){var e=bt(Xu),t=Iu.transition,n=kt;try{if(Iu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Xu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var k=e.current;for(Js=k;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=k;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){El(u,u.return,_)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Cu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Iu.transition=t}}return!1}function xl(e,t,n){e=Pa(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function El(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Pa(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Au&n)===n&&(4===Pu||3===Pu&&(130023424&Au)===Au&&500>Ye()-zu?hl(e,0):Uu|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Na(e,t))&&(yt(e,t,n),rl(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Nl(e,t){return Ge(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Al(e,t,n,r){return new Rl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Al(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Ll(n.children,i,o,t);case E:s=8,i|=8;break;case S:return(e=Al(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Al(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Al(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Ml(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case A:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Al(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ll(e,t,n,r){return(e=Al(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Al(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Al(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Al(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,a,o,s,u){return e=new Fl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Al(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bl(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,a,o,s,u){return(e=Vl(n,r,!0,e,0,a,0,s,u)).context=Bl(null),n=e.current,(a=Da(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Hl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nl(e,i,o,a),La(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ti(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Vl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),cl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}$l.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},$l.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Hl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rl(t,Ye()),0===(6&Cu)&&(Bu=Ye()+500,Bi()))}break;case 13:cl((function(){var t=Na(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=Na(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},Et=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ll,Ne=cl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ie,ll]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+C(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+C(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,D(_);else{var t=r(c);null!==t&&P(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&P(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,T=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function R(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof k)x=function(){k(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=R,x=function(){O.postMessage(null)}}else x=function(){y(R,0)};function D(e){S=e,E||(E=!0,x())}function P(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(T),T=-1):m=!0,P(w,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e,t=n(791),r=n.t(t,2),i=n(250);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function g(e){var t=p();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t,n){return b=p()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&f(i,n.prototype),i},b.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},w(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var x,E="popstate";function S(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function T(e){return{usr:e.state,key:e.key}}function I(e,t,n,r){return void 0===n&&(n=null),_({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function C(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function N(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:C(e);return new URL(n,t)}function A(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,l=void 0!==u&&u,c=s.history,f=e.Pop,h=null;function d(){f=e.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return t(s,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(E,d),h=e,function(){s.removeEventListener(E,d),h=null}},createHref:function(e){return n(s,e)},encodeLocation:function(e){var t=R(C(e));return _({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(t,n){f=e.Push;var i=I(p.location,t,n);r&&r(i,t);var a=T(i),o=p.createHref(i);try{c.pushState(a,"",o)}catch(u){s.location.assign(o)}l&&h&&h({action:f,location:p.location})},replace:function(t,n){f=e.Replace;var i=I(p.location,t,n);r&&r(i,t);var a=T(i),o=p.createHref(i);c.replaceState(a,"",o),l&&h&&h({action:f,location:p.location})},go:function(e){return c.go(e)}};return p}function O(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?N(t):t).pathname||"/",n);if(null==r)return null;var i=D(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=j(i[o],F(r));return a}function D(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(z(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=K([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(z(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),D(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:M(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));var P=/^:\w+$/,L=function(e){return"*"===e};function M(e,t){var n=e.split("/"),r=n.length;return n.some(L)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!L(e)})).reduce((function(e,t){return e+(P.test(t)?3:""===t?1:10)}),r)}function j(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=U({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:K([i,c.pathname]),pathnameBase:G(K([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=K([i,c.pathnameBase]))}return a}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);B("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=k(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return B(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function F(e){try{return decodeURI(e)}catch(t){return B(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function z(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function B(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function q(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function H(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function W(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=N(e):(z(!(i=_({},e)).pathname||!i.pathname.includes("?"),q("?","pathname","search",i)),z(!i.pathname||!i.pathname.includes("#"),q("#","pathname","hash",i)),z(!i.search||!i.search.includes("#"),q("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?N(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Q(a),hash:X(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var K=function(e){return e.join("/").replace(/\/\/+/g,"/")},G=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},X=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},$=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n)}(w(Error));var Y=c((function e(t,n,r){u(this,e),this.status=t,this.statusText=n||"",this.data=r}));function J(e){return e instanceof Y}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Z=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(s(Z)));function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}var te="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ne=t.useState,re=t.useEffect,ie=t.useLayoutEffect,ae=t.useDebugValue;function oe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!te(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var se=t.createContext(null);var ue=t.createContext(null);var le=t.createContext(null);var ce=t.createContext(null);var fe=t.createContext(null);var he=t.createContext(null);var de=t.createContext({outlet:null,matches:[]});var pe=t.createContext(null);function ve(){return null!=t.useContext(he)}function me(){return ve()||z(!1),t.useContext(he).location}function ye(){ve()||z(!1);var e=t.useContext(fe),n=e.basename,r=e.navigator,i=t.useContext(de).matches,a=me().pathname,o=JSON.stringify(H(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=W(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:K([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}var ge=t.createContext(null);function ke(){var e=t.useContext(de).matches,n=e[e.length-1];return n?n.params:{}}function be(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(de).matches,a=me().pathname,o=JSON.stringify(H(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return W(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function we(){var e=function(){var e,n=t.useContext(pe),r=Ie(xe.UseRouteError),i=t.useContext(de),a=i.matches[i.matches.length-1];if(n)return n;return i||z(!1),!a.route.id&&z(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=J(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var _e,xe,Ee=function(e){h(r,e);var n=g(r);function r(e){var t;return u(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return c(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(pe.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Se(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(se);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(de.Provider,{value:n},i)}function Te(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||z(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,l=r?o.route.errorElement||t.createElement(we,null):null,c=function(){return t.createElement(Se,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,s+1))}},u?l:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(Ee,{location:r.location,component:l,error:u,children:c()}):c()}),null)}function Ie(e){var n=t.useContext(le);return n||z(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(_e||(_e={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(xe||(xe={}));var Ce;function Ne(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;ve()||z(!1);var o=t.useContext(le),s=ye();return t.useEffect((function(){o&&"idle"!==o.navigation.state||s(n,{replace:r,state:i,relative:a})})),null}function Re(e){return function(e){var n=t.useContext(de).outlet;return n?t.createElement(ge.Provider,{value:e},n):n}(e.context)}function Ae(e){z(!1)}function Oe(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,f=n.static,h=void 0!==f&&f;ve()&&z(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof s&&(s=N(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,E=v.key,S=void 0===E?"default":E,T=t.useMemo((function(){var e=V(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:x,key:S}}),[d,y,k,w,x,S]);return null==T?null:t.createElement(fe.Provider,{value:p},t.createElement(he.Provider,{children:o,value:{location:T,navigationType:l}}))}function De(n){var r=n.children,i=n.location,a=t.useContext(ue);return function(n,r){ve()||z(!1);var i,a=t.useContext(le),o=t.useContext(de).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,me());if(r){var f,h="string"===typeof r?N(r):r;"/"===l||(null==(f=h.pathname)?void 0:f.startsWith(l))||z(!1),i=h}else i=c;var d=i.pathname||"/",p=O(n,{pathname:"/"===l?d:d.slice(l.length)||"/"}),v=Te(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:K([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:K([l,e.pathnameBase])})})),o,a||void 0);return r&&v?t.createElement(he.Provider,{value:{location:ee({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},v):v}(a&&!r?a.router.routes:Le(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ce||(Ce={}));var Pe=new Promise((function(){}));t.Component;function Le(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Ae&&z(!1),e.props.index&&e.props.children&&z(!1);var a=[].concat(s(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Le(e.props.children,a)),r.push(o)}else r.push.apply(r,Le(e.props.children,n))})),r}function Me(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function je(){return je="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Me(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},je.apply(this,arguments)}function Ue(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function Fe(){Fe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new T(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var f={};function h(){}function d(){}function p(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(I([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=c(e[r],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(k,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ve(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ve(a,r,i,o,s,"next",e)}function s(e){Ve(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},He={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},We=function(e){return function(e){var t=qe(e);return He.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ke=function(e){try{return He.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ge(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Qe(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var Xe=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},$e=function(){try{return Xe()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/social-media-react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ke(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ye=function(e){var t,n;return null===(n=null===(t=$e())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Je=function(e){var t=Ye(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Ze=function(){var e;return null===(e=$e())||void 0===e?void 0:e.config},et=function(e){var t;return null===(t=$e())||void 0===t?void 0:t["_".concat(e)]},tt=function(){function e(){var t=this;u(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return c(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function nt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(a)),""].join(".")}var rt=function(e){h(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(m(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(m(a),it.prototype.create),a}return c(n)}(w(Error)),it=function(){function e(t,n,r){u(this,e),this.service=t,this.serviceName=n,this.errors=r}return c(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?at(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new rt(n,a,t);return o}}]),e}();function at(e,t){return e.replace(ot,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ot=/\{\$([^}]+)}/g;function st(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ut(s)&&ut(u)){if(!st(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function ut(e){return null!==e&&"object"===typeof e}function lt(e){for(var t=[],n=function(){var e=k(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ct(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=k(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ft(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ht=function(){function e(t,n){var r=this;u(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return c(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ue(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=dt),void 0===r.error&&(r.error=dt),void 0===r.complete&&(r.complete=dt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function dt(){}function pt(e){return e&&e._delegate?e._delegate:e}var vt=function(){function e(t,n,r){u(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return c(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),mt="[DEFAULT]",yt=function(){function e(t,n){u(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return c(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new tt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mt})}catch(u){}var t,n=Ue(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=k(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(s(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),s(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ue(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=k(i.value,2),u=s[0],l=s[1],c=this.normalizeInstanceIdentifier(u);r===c&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Qy){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===mt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Qy){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.component?this.component.multipleInstances?e:mt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var gt,kt,bt=function(){function e(t){u(this,e),this.name=t,this.providers=new Map}return c(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new yt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),wt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kt||(kt={}));var _t={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},xt=kt.INFO,Et=(Be(gt={},kt.DEBUG,"log"),Be(gt,kt.VERBOSE,"log"),Be(gt,kt.INFO,"info"),Be(gt,kt.WARN,"warn"),Be(gt,kt.ERROR,"error"),gt),St=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Et[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Tt=function(){function e(t){u(this,e),this.name=t,this._logLevel=xt,this._logHandler=St,this._userLogHandler=null,wt.push(this)}return c(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in kt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?_t[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.DEBUG].concat(t)),this._logHandler.apply(this,[this,kt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,kt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.INFO].concat(t)),this._logHandler.apply(this,[this,kt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.WARN].concat(t)),this._logHandler.apply(this,[this,kt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.ERROR].concat(t)),this._logHandler.apply(this,[this,kt.ERROR].concat(t))}}]),e}();function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt,Rt;var At=new WeakMap,Ot=new WeakMap,Dt=new WeakMap,Pt=new WeakMap,Lt=new WeakMap;var Mt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ot.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Dt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ft(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function jt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Rt||(Rt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Vt(this),n),Ft(At.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ft(e.apply(Vt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Vt(this),t].concat(r));return Dt.set(a,t.sort?t.sort():[t]),Ft(a)}}function Ut(e){return"function"===typeof e?jt(e):(e instanceof IDBTransaction&&function(e){if(!Ot.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ot.set(e,t)}}(e),t=e,(Nt||(Nt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Mt):e);var t}function Ft(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ft(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&At.set(t,e)})).catch((function(){})),Lt.set(t,e),t}(e);if(Pt.has(e))return Pt.get(e);var t=Ut(e);return t!==e&&(Pt.set(e,t),Lt.set(t,e)),t}var Vt=function(e){return Lt.get(e)};var zt,Bt,qt=["get","getKey","getAll","getAllKeys","count"],Ht=["put","add","delete","clear"],Wt=new Map;function Kt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Wt.get(t))return Wt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ht.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||qt.includes(n))){var a=function(){var e=ze(Fe().mark((function e(t){var a,o,s,u,l,c,f=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Wt.set(t,a),a}}}Mt=function(e){return Ct(Ct({},e),{},{get:function(t,n,r){return Kt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Kt(t,n)||e.has(t,n)}})}(Mt);var Gt=function(){function e(t){u(this,e),this.container=t}return c(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Qt="@firebase/app",Xt="0.8.4",$t=new Tt("@firebase/app"),Yt="[DEFAULT]",Jt=(Be(zt={},Qt,"fire-core"),Be(zt,"@firebase/app-compat","fire-core-compat"),Be(zt,"@firebase/analytics","fire-analytics"),Be(zt,"@firebase/analytics-compat","fire-analytics-compat"),Be(zt,"@firebase/app-check","fire-app-check"),Be(zt,"@firebase/app-check-compat","fire-app-check-compat"),Be(zt,"@firebase/auth","fire-auth"),Be(zt,"@firebase/auth-compat","fire-auth-compat"),Be(zt,"@firebase/database","fire-rtdb"),Be(zt,"@firebase/database-compat","fire-rtdb-compat"),Be(zt,"@firebase/functions","fire-fn"),Be(zt,"@firebase/functions-compat","fire-fn-compat"),Be(zt,"@firebase/installations","fire-iid"),Be(zt,"@firebase/installations-compat","fire-iid-compat"),Be(zt,"@firebase/messaging","fire-fcm"),Be(zt,"@firebase/messaging-compat","fire-fcm-compat"),Be(zt,"@firebase/performance","fire-perf"),Be(zt,"@firebase/performance-compat","fire-perf-compat"),Be(zt,"@firebase/remote-config","fire-rc"),Be(zt,"@firebase/remote-config-compat","fire-rc-compat"),Be(zt,"@firebase/storage","fire-gcs"),Be(zt,"@firebase/storage-compat","fire-gcs-compat"),Be(zt,"@firebase/firestore","fire-fst"),Be(zt,"@firebase/firestore-compat","fire-fst-compat"),Be(zt,"fire-js","fire-js"),Be(zt,"firebase","fire-js-all"),zt),Zt=new Map,en=new Map;function tn(e,t){try{e.container.addComponent(t)}catch(n){$t.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function nn(e){var t=e.name;if(en.has(t))return $t.debug("There were multiple attempts to register component ".concat(t,".")),!1;en.set(t,e);var n,r=Ue(Zt.values());try{for(r.s();!(n=r.n()).done;){tn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function rn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var an=(Be(Bt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Be(Bt,"bad-app-name","Illegal App name: '{$appName}"),Be(Bt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Be(Bt,"app-deleted","Firebase App named '{$appName}' already deleted"),Be(Bt,"no-options","Need to provide options, when not being deployed to hosting via source."),Be(Bt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Be(Bt,"invalid-log-argument","First argument to `onLog` must be null or a function."),Be(Bt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Be(Bt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Be(Bt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Be(Bt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Bt),on=new it("app","Firebase",an),sn=function(){function e(t,n,r){var i=this;u(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vt("app",(function(){return i}),"PUBLIC"))}return c(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}]),e}(),un="9.14.0";function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw on.create("bad-app-name",{appName:String(a)});if(n||(n=Ze()),!n)throw on.create("no-options");var o=Zt.get(a);if(o){if(st(n,o.options)&&st(i,o.config))return o;throw on.create("duplicate-app",{appName:a})}var s,u=new bt(a),l=Ue(en.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(h){l.e(h)}finally{l.f()}var f=new sn(n,i,u);return Zt.set(a,f),f}function cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=Zt.get(e);if(!t&&e===Yt)return ln();if(!t)throw on.create("no-app",{appName:e});return t}function fn(e,t,n){var r,i=null!==(r=Jt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $t.warn(s.join(" "))}nn(new vt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var hn="firebase-heartbeat-store",dn=null;function pn(){return dn||(dn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ft(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ft(s.result),e.oldVersion,e.newVersion,Ft(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(hn)}}).catch((function(e){throw on.create("idb-open",{originalErrorMessage:e.message})}))),dn}function vn(e){return mn.apply(this,arguments)}function mn(){return mn=ze(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pn();case 3:return r=e.sent,e.abrupt("return",r.transaction(hn).objectStore(hn).get(kn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof rt?$t.warn(e.t0.message):(i=on.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),$t.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),mn.apply(this,arguments)}function yn(e,t){return gn.apply(this,arguments)}function gn(){return gn=ze(Fe().mark((function e(t,n){var r,i,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pn();case 3:return i=e.sent,a=i.transaction(hn,"readwrite"),o=a.objectStore(hn),e.next=8,o.put(n,kn(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof rt?$t.warn(e.t0.message):(s=on.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),$t.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),gn.apply(this,arguments)}function kn(e){return"".concat(e.name,"!").concat(e.options.appId)}var bn=function(){function e(t){var n=this;u(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new En(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return c(e,[{key:"triggerHeartbeat",value:function(){var e=ze(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=wn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ze(Fe().mark((function e(){var t,n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=wn(),n=_n(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=We(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wn(){return(new Date).toISOString().substring(0,10)}function _n(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ue(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Sn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Sn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var xn,En=function(){function e(t){u(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return c(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,vn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ze(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",yn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ze(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",yn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(s(r.heartbeats),s(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Sn(e){return We(JSON.stringify({version:2,heartbeats:e})).length}xn="",nn(new vt("platform-logger",(function(e){return new Gt(e)}),"PRIVATE")),nn(new vt("heartbeat",(function(e){return new bn(e)}),"PRIVATE")),fn(Qt,Xt,xn),fn(Qt,Xt,"esm2017"),fn("fire-js","");function Tn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var In;Object.create;function Cn(){return Be({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Nn=Cn,Rn=new it("auth","Firebase",Cn()),An=new Tt("@firebase/auth");function On(e){if(An.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];An.error.apply(An,["Auth (".concat(un,"): ").concat(e)].concat(n))}}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Mn.apply(void 0,[e].concat(n))}function Pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Mn.apply(void 0,[e].concat(n))}function Ln(e,t,n){var r=Object.assign(Object.assign({},Nn()),Be({},t,n));return new it("auth","Firebase",r).create(t,{appName:e.name})}function Mn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=s(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(s(o)))}return Rn.create.apply(Rn,[e].concat(n))}function jn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Mn.apply(void 0,[t].concat(r))}}function Un(e){var t="INTERNAL ASSERTION FAILED: "+e;throw On(t),new Error(t)}function Fn(e,t){e||Un(t)}var Vn=new Map;function zn(e){Fn(e instanceof Function,"Expected a class definition");var t=Vn.get(e);return t?(Fn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vn.set(e,t),t)}function Bn(e,t){var n=rn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(st(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Dn(r,"already-initialized")}return n.initialize({options:t})}function qn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Hn(){return"http:"===Wn()||"https:"===Wn()}function Wn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Kn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Hn()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Gn=function(){function e(t,n){u(this,e),this.shortDelay=t,this.longDelay=n,Fn(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())||"object"===typeof navigator&&"ReactNative"===navigator.product}return c(e,[{key:"get",value:function(){return Kn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Qn(e,t){Fn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Xn=function(){function e(){u(this,e)}return c(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),$n=(Be(In={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Be(In,"MISSING_CUSTOM_TOKEN","internal-error"),Be(In,"INVALID_IDENTIFIER","invalid-email"),Be(In,"MISSING_CONTINUE_URI","internal-error"),Be(In,"INVALID_PASSWORD","wrong-password"),Be(In,"MISSING_PASSWORD","internal-error"),Be(In,"EMAIL_EXISTS","email-already-in-use"),Be(In,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Be(In,"INVALID_IDP_RESPONSE","invalid-credential"),Be(In,"INVALID_PENDING_TOKEN","invalid-credential"),Be(In,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Be(In,"MISSING_REQ_TYPE","internal-error"),Be(In,"EMAIL_NOT_FOUND","user-not-found"),Be(In,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Be(In,"EXPIRED_OOB_CODE","expired-action-code"),Be(In,"INVALID_OOB_CODE","invalid-action-code"),Be(In,"MISSING_OOB_CODE","internal-error"),Be(In,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Be(In,"INVALID_ID_TOKEN","invalid-user-token"),Be(In,"TOKEN_EXPIRED","user-token-expired"),Be(In,"USER_NOT_FOUND","user-token-expired"),Be(In,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Be(In,"INVALID_CODE","invalid-verification-code"),Be(In,"INVALID_SESSION_INFO","invalid-verification-id"),Be(In,"INVALID_TEMPORARY_PROOF","invalid-credential"),Be(In,"MISSING_SESSION_INFO","missing-verification-id"),Be(In,"SESSION_EXPIRED","code-expired"),Be(In,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Be(In,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Be(In,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Be(In,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Be(In,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Be(In,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Be(In,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Be(In,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Be(In,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Be(In,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Be(In,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),In),Yn=new Gn(3e4,6e4);function Jn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Zn(e,t,n,r){return er.apply(this,arguments)}function er(){return er=ze(Fe().mark((function e(t,n,r,i){var a,o=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",tr(t,a,ze(Fe().mark((function e(){var a,o,s,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=lt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Xn.fetch()(ar(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}function tr(e,t,n){return nr.apply(this,arguments)}function nr(){return nr=ze(Fe().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h,d;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},$n),n),e.prev=2,a=new or(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw sr(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),c=k(l,2),f=c[0],h=c[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw sr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw sr(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw sr(t,"user-disabled",s);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Ln(t,d,h);case 34:Dn(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof rt)){e.next=41;break}throw e.t0;case 41:Dn(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),nr.apply(this,arguments)}function rr(e,t,n,r){return ir.apply(this,arguments)}function ir(){return ir=ze(Fe().mark((function e(t,n,r,i){var a,o,s=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Zn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Dn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}function ar(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var or=function(){function e(t){var n=this;u(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Pn(n.auth,"network-request-failed"))}),Yn.get())}))}return c(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function sr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Pn(e,t,r);return i.customData._tokenResponse=n,i}function ur(e,t){return lr.apply(this,arguments)}function lr(){return lr=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),lr.apply(this,arguments)}function cr(e,t){return fr.apply(this,arguments)}function fr(){return fr=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function hr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function dr(){return dr=ze(Fe().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=pt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,jn((a=vr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:hr(pr(a.auth_time)),issuedAtTime:hr(pr(a.iat)),expirationTime:hr(pr(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}function pr(e){return 1e3*Number(e)}function vr(e){var t,n=k(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return On("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ke(i);return o?JSON.parse(o):(On("Failed to decode base64 JWT payload"),null)}catch(s){return On("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function mr(e,t){return yr.apply(this,arguments)}function yr(){return yr=ze(Fe().mark((function e(t,n){var r=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof rt&&gr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),yr.apply(this,arguments)}function gr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var kr=function(){function e(t){u(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return c(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ze(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),br=function(){function e(t,n){u(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return c(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function wr(e){return _r.apply(this,arguments)}function _r(){return _r=ze(Fe().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,h;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,mr(t,cr(r,{idToken:i}));case 6:jn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Sr(o.providerUserInfo):[],u=Er(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new br(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function xr(){return(xr=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pt(t),e.next=3,wr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Er(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(s(n),s(t))}function Sr(e){return e.map((function(e){var t=e.providerId,n=Tn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Tr(e,t){return Ir.apply(this,arguments)}function Ir(){return Ir=ze(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(t,{},ze(Fe().mark((function e(){var r,i,a,o,s,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=ar(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Xn.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ir.apply(this,arguments)}var Cr=function(){function e(){u(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return c(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){jn(e.idToken,"internal-error"),jn("undefined"!==typeof e.idToken,"internal-error"),jn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=vr(e);return jn(t,"internal-error"),jn("undefined"!==typeof t.exp,"internal-error"),jn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ze(Fe().mark((function e(t){var n,r=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],jn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ze(Fe().mark((function e(t,n){var r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tr(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Un("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(jn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(jn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(jn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Nr(e,t){jn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Rr=function(){function e(t){u(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Tn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?s(a.providerData):[],this.metadata=new br(a.createdAt||void 0,a.lastLoginAt||void 0)}return c(e,[{key:"getIdToken",value:function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(jn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return dr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return xr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(jn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){jn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ze(Fe().mark((function e(t){var n,r,i=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,wr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,mr(this,ur(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;jn(k&&x,t,"internal-error");var E=Cr.fromJSON(this.name,x);jn("string"===typeof k,t,"internal-error"),Nr(f,t.name),Nr(h,t.name),jn("boolean"===typeof b,t,"internal-error"),jn("boolean"===typeof w,t,"internal-error"),Nr(d,t.name),Nr(p,t.name),Nr(v,t.name),Nr(m,t.name),Nr(y,t.name),Nr(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ze(Fe().mark((function t(n,r){var i,a,o,s=arguments;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Cr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,wr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ar=function(){function e(){u(this,e),this.type="NONE",this.storage={}}return c(e,[{key:"_isAvailable",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ar.type="NONE";var Or=Ar;function Dr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Pr=function(){function e(t,n,r){u(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Dr(this.userKey,a.apiKey,o),this.fullPersistenceKey=Dr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return c(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Rr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ze(Fe().mark((function t(n,r){var i,a,o,s,u,l,c,f,h,d,p,v=arguments;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(zn(Or),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||zn(Or),s=Dr(i,n.config.apiKey,n.name),u=null,l=Ue(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return f=c.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Rr._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Lr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zr(t))return"Blackberry";if(Br(t))return"Webos";if(jr(t))return"Safari";if((t.includes("chrome/")||Ur(t))&&!t.includes("edge/"))return"Chrome";if(Vr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/firefox\//i.test(e)}function jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/crios\//i.test(e)}function Fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iemobile/i.test(e)}function Vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/android/i.test(e)}function zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/blackberry/i.test(e)}function Br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/webos/i.test(e)}function qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return qr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Wr(){return function(){var e=Ge();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return qr(e)||Vr(e)||Br(e)||zr(e)||/windows phone/i.test(e)||Fr(e)}function Gr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Lr(Ge());break;case"Worker":t="".concat(Lr(Ge()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(un,"/").concat(r)}var Qr=function(){function e(t){u(this,e),this.auth=t,this.queue=[]}return c(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ze(Fe().mark((function e(t){var n,r,i,a,o,s,u,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Ue(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Ue(r);try{for(s.s();!(u=s.n()).done;){l=u.value;try{l()}catch(c){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Xr=function(){function e(t,n,r){u(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yr(this),this.idTokenSubscription=new Yr(this),this.beforeStateQueue=new Qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return c(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=zn(t)),this._initializationPromise=this.queue(ze(Fe().mark((function r(){var i,a;return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Pr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ze(Fe().mark((function e(t){var n,r,i,a,o,s,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return jn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?pt(t):null)&&jn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ze(Fe().mark((function e(t){var n,r=this,i=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&jn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ze(Fe().mark((function n(){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(zn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new it("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ze(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return jn(n=t&&zn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Pr.create(this,[zn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ze(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ze(Fe().mark((function e(t){var n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return jn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return jn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ze(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Be({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $r(e){return pt(e)}var Yr=function(){function e(t){var n=this;u(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new ht(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return c(e,[{key:"next",get:function(){return jn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Jr(e,t,n){var r=$r(e);jn(r._canInitEmulator,r,"emulator-config-failed"),jn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Zr(t),o=function(e){var t=Zr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ei(r.substr(a.length+1))}}var o=k(r.split(":"),2);return{host:o[0],port:ei(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Zr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ei(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ti=function(){function e(t,n){u(this,e),this.providerId=t,this.signInMethod=n}return c(e,[{key:"toJSON",value:function(){return Un("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Un("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Un("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Un("not implemented")}}]),e}();function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rr(t,"POST","/v1/accounts:signInWithPassword",Jn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e,t){return si.apply(this,arguments)}function si(){return si=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rr(t,"POST","/v1/accounts:signInWithEmailLink",Jn(t,n)));case 1:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ui(e,t){return li.apply(this,arguments)}function li(){return li=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rr(t,"POST","/v1/accounts:signInWithEmailLink",Jn(t,n)));case 1:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}var ci=function(e){h(n,e);var t=g(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return c(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ii(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",oi(t,{email:this._email,oobCode:this._password}));case 5:Dn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ni(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ui(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Dn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ti);function fi(e,t){return hi.apply(this,arguments)}function hi(){return hi=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rr(t,"POST","/v1/accounts:signInWithIdp",Jn(t,n)));case 1:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}var di=function(e){h(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return c(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Tn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ti);function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zn(t,"POST","/v1/accounts:sendVerificationCode",Jn(t,n)));case 1:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(){return mi=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rr(t,"POST","/v1/accounts:signInWithPhoneNumber",Jn(t,n)));case 1:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function yi(){return yi=ze(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rr(t,"POST","/v1/accounts:signInWithPhoneNumber",Jn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw sr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}var gi=Be({},"USER_NOT_FOUND","user-not-found");function ki(){return ki=ze(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",rr(t,"POST","/v1/accounts:signInWithPhoneNumber",Jn(t,r),gi));case 2:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}var bi=function(e){h(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone","phone")).params=e,r}return c(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return yi.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ki.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ti);var wi=function(){function e(t){var n,r,i,a,o,s;u(this,e);var l=ct(ft(t)),c=null!==(n=l.apiKey)&&void 0!==n?n:null,f=null!==(r=l.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);jn(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=l.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}return c(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ct(ft(e)).link,n=t?ct(ft(t)).deep_link_id:null,r=ct(ft(e)).deep_link_id;return(r?ct(ft(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Qy){return null}}}]),e}();var _i=function(){function e(){u(this,e),this.providerId=e.PROVIDER_ID}return c(e,null,[{key:"credential",value:function(e,t){return ci._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wi.parseLink(t);return jn(n,"argument-error"),ci._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();_i.PROVIDER_ID="password",_i.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_i.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var xi=function(){function e(t){u(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return c(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ei=function(e){h(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).scopes=[],e}return c(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return s(this.scopes)}}]),n}(xi),Si=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.call(this,"facebook.com")}return c(n,null,[{key:"credential",value:function(e){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Qy){return null}}}]),n}(Ei);Si.FACEBOOK_SIGN_IN_METHOD="facebook.com",Si.PROVIDER_ID="facebook.com";var Ti=function(e){h(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return c(n,null,[{key:"credential",value:function(e,t){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Qy){return null}}}]),n}(Ei);Ti.GOOGLE_SIGN_IN_METHOD="google.com",Ti.PROVIDER_ID="google.com";var Ii=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.call(this,"github.com")}return c(n,null,[{key:"credential",value:function(e){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Qy){return null}}}]),n}(Ei);Ii.GITHUB_SIGN_IN_METHOD="github.com",Ii.PROVIDER_ID="github.com";var Ci=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.call(this,"twitter.com")}return c(n,null,[{key:"credential",value:function(e,t){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Qy){return null}}}]),n}(Ei);function Ni(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rr(t,"POST","/v1/accounts:signUp",Jn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}Ci.TWITTER_SIGN_IN_METHOD="twitter.com",Ci.PROVIDER_ID="twitter.com";var Ai=function(){function e(t){u(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return c(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ze(Fe().mark((function t(n,r,i){var a,o,s,u,l=arguments;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Rr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Oi(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ze(Fe().mark((function t(n,r,i){var a;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Oi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Oi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Di=function(e){h(n,e);var t=g(n);function n(e,r,i,a){var o,s;return u(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(m(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return c(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(rt);function Pi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Di._fromErrorAndOperation(e,n,t,r);throw n}))}function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=ze(Fe().mark((function e(t,n){var r,i,a=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=mr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ai._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function ji(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=ze(Fe().mark((function e(t,n){var r,i,a,o,s,u,l,c=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,mr(t,Pi(a,o,n,t),r);case 6:return jn((s=e.sent).idToken,a,"internal-error"),jn(u=vr(s.idToken),a,"internal-error"),l=u.sub,jn(t.uid===l,a,"user-mismatch"),e.abrupt("return",Ai._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Dn(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ui.apply(this,arguments)}function Fi(e,t){return Vi.apply(this,arguments)}function Vi(){return Vi=ze(Fe().mark((function e(t,n){var r,i,a,o,s=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Pi(t,i,n);case 4:return a=e.sent,e.next=7,Ai._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function zi(e,t){return Bi.apply(this,arguments)}function Bi(){return Bi=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi($r(t),n));case 1:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function qi(e,t,n){return Hi.apply(this,arguments)}function Hi(){return Hi=ze(Fe().mark((function e(t,n,r){var i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$r(t),e.next=3,Ni(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ai._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Wi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Gi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=ze(Fe().mark((function e(t,n){var r,i,a,o,s,u,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=pt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,mr(a,Wi(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(e,t){return pt(e).setPersistence(t)}function $i(e,t,n,r){return pt(e).onIdTokenChanged(t,n,r)}function Yi(e,t,n){return pt(e).beforeAuthStateChanged(t,n)}function Ji(e,t){return Zn(e,"POST","/v2/accounts/mfaEnrollment:start",Jn(e,t))}new WeakMap;var Zi="__sak",ea=function(){function e(t,n){u(this,e),this.storageRetriever=t,this.type=n}return c(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Zi,"1"),this.storage.removeItem(Zi),Promise.resolve(!0)):Promise.resolve(!1)}catch(Qy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ta=function(e){h(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ge();return jr(e)||qr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Kr(),e._shouldAllowMigration=!0,e}return c(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Wr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ze(Fe().mark((function e(t,r){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(d(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ze(Fe().mark((function e(t){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(d(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(d(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ea);ta.type="LOCAL";var na=ta,ra=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return c(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ea);ra.type="SESSION";var ia=ra;function aa(e){return Promise.all(e.map(function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var oa=function(){function e(t){u(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return c(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ze(Fe().mark((function e(t){var n,r,i,a,o,s,u,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,aa(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function sa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}oa.receivers=[];var ua=function(){function e(t){u(this,e),this.target=t,this.handlers=new Set}return c(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ze(Fe().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=sa("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function la(){return window}function ca(){return"undefined"!==typeof la().WorkerGlobalScope&&"function"===typeof la().importScripts}function fa(){return ha.apply(this,arguments)}function ha(){return(ha=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function da(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var pa="firebaseLocalStorageDb",va="firebaseLocalStorage",ma="fbase_key",ya=function(){function e(t){u(this,e),this.request=t}return c(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ga(e,t){return e.transaction([va],t?"readwrite":"readonly").objectStore(va)}function ka(){var e=indexedDB.deleteDatabase(pa);return new ya(e).toPromise()}function ba(){var e=indexedDB.open(pa,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(va,{keyPath:ma})}catch(r){n(r)}})),e.addEventListener("success",ze(Fe().mark((function n(){var r;return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(va)){n.next=12;break}return r.close(),n.next=5,ka();case 5:return n.t0=t,n.next=8,ba();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function wa(e,t,n){return _a.apply(this,arguments)}function _a(){return _a=ze(Fe().mark((function e(t,n,r){var i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ga(t,!0).put((Be(i={},ma,n),Be(i,"value",r),i)),e.abrupt("return",new ya(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function xa(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=ze(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t,!1).get(n),e.next=3,new ya(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Sa(e,t){var n=ga(e,!0).delete(t);return new ya(n).toPromise()}var Ta=function(){function e(){u(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return c(e,[{key:"_openDb",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ba();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ze(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ca()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ze(Fe().mark((function e(){var t=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=oa._getInstance(ca()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ze(Fe().mark((function e(n,r){var i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ze(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ua(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&da()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ba();case 5:return t=e.sent,e.next=8,wa(t,Zi,"1");case 8:return e.next=10,Sa(t,Zi);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ze(Fe().mark((function e(t,n){var r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return wa(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return xa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ze(Fe().mark((function e(t){var n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Sa(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ze(Fe().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ga(e,!1).getAll();return new ya(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ue(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)f=c[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ze(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ta.type="LOCAL";var Ia=Ta;function Ca(e,t){return Zn(e,"POST","/v2/accounts/mfaSignIn:start",Jn(e,t))}function Na(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Pn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ra(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Ra("rcb"),new Gn(3e4,6e4);var Aa="recaptcha";function Oa(e,t,n){return Da.apply(this,arguments)}function Da(){return Da=ze(Fe().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,jn("string"===typeof a,t,"argument-error"),jn(r.type===Aa,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return jn("enroll"===s.type,t,"internal-error"),e.next=13,Ji(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return jn("signin"===s.type,t,"internal-error"),jn(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ca(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,pi(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Da.apply(this,arguments)}var Pa=function(){function e(t){u(this,e),this.providerId=e.PROVIDER_ID,this.auth=$r(t)}return c(e,[{key:"verifyPhoneNumber",value:function(e,t){return Oa(this.auth,e,pt(t))}}],[{key:"credential",value:function(e,t){return bi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bi._fromTokenResponse(n,r):null}}]),e}();function La(e,t){return t?zn(t):(jn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pa.PROVIDER_ID="phone",Pa.PHONE_SIGN_IN_METHOD="phone";var Ma=function(e){h(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,"custom","custom")).params=e,r}return c(n,[{key:"_getIdTokenResponse",value:function(e){return fi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ti);function ja(e){return Fi(e.auth,new Ma(e),e.bypassAuthState)}function Ua(e){var t=e.auth,n=e.user;return jn(n,t,"internal-error"),ji(n,new Ma(e),e.bypassAuthState)}function Fa(e){return Va.apply(this,arguments)}function Va(){return Va=ze(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,jn(r=t.user,n,"internal-error"),e.abrupt("return",Li(r,new Ma(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}var za=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];u(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return c(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ze(Fe().mark((function t(n,r){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ze(Fe().mark((function e(t){var n,r,i,a,o,s,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ja;case"linkViaPopup":case"linkViaRedirect":return Fa;case"reauthViaPopup":case"reauthViaRedirect":return Ua;default:Dn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ba=new Gn(2e3,1e4);var qa=function(e){h(n,e);var t=g(n);function n(e,r,i,a,o){var s;return u(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=m(s),s}return c(n,[{key:"executeNotNull",value:function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return jn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ze(Fe().mark((function e(){var t,n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fn(1===this.filter.length,"Popup operations only handle one event"),t=sa(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Pn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Pn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Pn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ba.get())}()}}]),n}(za);qa.currentPopupAction=null;var Ha=new Map,Wa=function(e){h(n,e);var t=g(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return c(n,[{key:"execute",value:function(){var e=ze(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ha.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ka(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,je(d(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ha.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ha.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ze(Fe().mark((function e(t){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",je(d(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",je(d(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(za);function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=ze(Fe().mark((function e(t,n){var r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$a(n),i=Xa(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Qa(e,t){Ha.set(e._key(),t)}function Xa(e){return zn(e._redirectPersistence)}function $a(e){return Dr("pendingRedirect",e.config.apiKey,e.name)}function Ya(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=ze(Fe().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=$r(t),a=La(i,n),o=new Wa(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}var Za=function(){function e(t){u(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return c(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return to(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!to(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Pn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(eo(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function eo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function to(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function no(e){return ro.apply(this,arguments)}function ro(){return ro=ze(Fe().mark((function e(t){var n,r=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Zn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}var io=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ao=/^https?/;function oo(){return oo=ze(Fe().mark((function e(t){var n,r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,no(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ue(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!so(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Dn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),oo.apply(this,arguments)}function so(e){var t=qn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ao.test(r))return!1;if(io.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var uo=new Gn(3e4,6e4);function lo(){var e=la().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=s(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var co=null;function fo(e){return co=co||function(e){return new Promise((function(t,n){var r,i,a;function o(){lo(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){lo(),n(Pn(e,"network-request-failed"))},timeout:uo.get()})}if(null===(i=null===(r=la().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=la().gapi)||void 0===a?void 0:a.load)){var s=Ra("iframefcb");return la()[s]=function(){gapi.load?o():n(Pn(e,"network-request-failed"))},Na("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw co=null,e}))}(e),co}var ho=new Gn(5e3,15e3),po={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mo(e){var t=e.config;jn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Qn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:un},i=vo.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(lt(r).slice(1))}function yo(e){return go.apply(this,arguments)}function go(){return go=ze(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fo(t);case 2:return n=e.sent,jn(r=la().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:mo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:po,dontclear:!0},(function(e){return new Promise(function(){var n=ze(Fe().mark((function n(r,i){var a,o,s;return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){la().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Pn(t,"network-request-failed"),o=la().setTimeout((function(){i(a)}),ho.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}var ko={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bo="_blank",wo="http://localhost",_o=function(){function e(t){u(this,e),this.window=t,this.associatedEvent=null}return c(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function xo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},ko),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ge().toLowerCase();n&&(s=Ur(l)?bo:n),Mr(l)&&(t=t||wo,u.scrollbars="yes");var c=Object.entries(u).reduce((function(e,t){var n=k(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Hr(l)&&"_self"!==s)return Eo(t||"",s),new _o(null);var f=window.open(t||"",s,c);jn(f,e,"popup-blocked");try{f.focus()}catch(h){}return new _o(f)}function Eo(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var So="__/auth/handler",To="emulator/auth/handler";function Io(e,t,n,r,i,a){jn(e.config.authDomain,e,"auth-domain-config-required"),jn(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:un,eventId:i};if(t instanceof xi){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=k(u[s],2),c=l[0],f=l[1];o[c]=f}}if(t instanceof Ei){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(So);return Qn(t,To)}(e),"?").concat(lt(d).slice(1))}var Co="webStorageSupport",No=function(){function e(){u(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ia,this._completeRedirectFn=Ya,this._overrideRedirectResult=Qa}return c(e,[{key:"_openPopup",value:function(){var e=ze(Fe().mark((function e(t,n,r,i){var a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Io(t,n,r,qn(),i),e.abrupt("return",xo(t,o,sa()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ze(Fe().mark((function e(t,n,r,i){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Io(t,n,r,qn(),i),la().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Fn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ze(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(t);case 2:return n=e.sent,r=new Za(t),n.register("authEvent",(function(e){return jn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Co,{type:Co},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Dn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return oo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Kr()||jr()||qr()}}]),e}(),Ro=No,Ao=function(){function e(t){u(this,e),this.factorId=t}return c(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Un("unexpected MultiFactorSessionType")}}}]),e}(),Oo=function(e){h(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone")).credential=e,r}return c(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Zn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Jn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Zn(e,"POST","/v2/accounts/mfaSignIn:finalize",Jn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ao);(function(){function e(){u(this,e)}return c(e,null,[{key:"assertion",value:function(e){return Oo._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Do="@firebase/auth",Po="0.20.11",Lo=function(){function e(t){u(this,e),this.auth=t,this.internalListeners=new Map}return c(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){jn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Mo,jo=et("authIdTokenMaxAge")||300,Uo=null,Fo=function(e){return function(){var t=ze(Fe().mark((function t(n){var r,i,a;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>jo)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Uo!==a){t.next=12;break}return t.abrupt("return");case 12:return Uo=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};Mo="Browser",nn(new vt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){jn(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),jn(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Mo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gr(Mo)},i=new Xr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),nn(new vt("auth-internal",(function(e){return function(e){return new Lo(e)}($r(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),fn(Do,Po,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Mo)),fn(Do,Po,"esm2017");fn("firebase","9.14.0","app");var Vo,zo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Bo={},qo=qo||{},Ho=zo||self;function Wo(){}function Ko(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Go(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qo="closure_uid_"+(1e9*Math.random()>>>0),Xo=0;function $o(e,t,n){return e.call.apply(e.bind,arguments)}function Yo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Jo(e,t,n){return(Jo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$o:Yo).apply(null,arguments)}function Zo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function es(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ts(){this.s=this.s,this.o=this.o}ts.prototype.s=!1,ts.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Qo)&&e[Qo]||(e[Qo]=++Xo))},ts.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ns=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function rs(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function is(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Ko(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function as(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}as.prototype.h=function(){this.defaultPrevented=!0};var os=function(){if(!Ho.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ho.addEventListener("test",Wo,t),Ho.removeEventListener("test",Wo,t)}catch(n){}return e}();function ss(e){return/^[\s\xa0]*$/.test(e)}var us=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ls(e,t){return e<t?-1:e>t?1:0}function cs(){var e=Ho.navigator;return e&&(e=e.userAgent)?e:""}function fs(e){return-1!=cs().indexOf(e)}function hs(e){return hs[" "](e),e}hs[" "]=Wo;var ds,ps=fs("Opera"),vs=fs("Trident")||fs("MSIE"),ms=fs("Edge"),ys=ms||vs,gs=fs("Gecko")&&!(-1!=cs().toLowerCase().indexOf("webkit")&&!fs("Edge"))&&!(fs("Trident")||fs("MSIE"))&&!fs("Edge"),ks=-1!=cs().toLowerCase().indexOf("webkit")&&!fs("Edge");function bs(){var e=Ho.document;return e?e.documentMode:void 0}e:{var ws="",_s=function(){var e=cs();return gs?/rv:([^\);]+)(\)|;)/.exec(e):ms?/Edge\/([\d\.]+)/.exec(e):vs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ks?/WebKit\/(\S+)/.exec(e):ps?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_s&&(ws=_s?_s[1]:""),vs){var xs=bs();if(null!=xs&&xs>parseFloat(ws)){ds=String(xs);break e}}ds=ws}var Es,Ss={};function Ts(){return function(e){var t=Ss;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=us(String(ds)).split("."),n=us("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ls(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ls(0==a[2].length,0==o[2].length)||ls(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ho.document&&vs){var Is=bs();Es=Is||(parseInt(ds,10)||void 0)}else Es=void 0;var Cs=Es;function Ns(e,t){if(as.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(gs){e:{try{hs(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Rs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ns.X.h.call(this)}}es(Ns,as);var Rs={2:"touch",3:"pen",4:"mouse"};Ns.prototype.h=function(){Ns.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var As="closure_listenable_"+(1e6*Math.random()|0),Os=0;function Ds(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Os,this.ba=this.ea=!1}function Ps(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Ls(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ms(e){var t={};for(var n in e)t[n]=e[n];return t}var js="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Us(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<js.length;a++)n=js[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fs(e){this.src=e,this.g={},this.h=0}function Vs(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ns(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ps(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function zs(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Fs.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=zs(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Ds(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Bs="closure_lm_"+(1e6*Math.random()|0),qs={};function Hs(e,t,n,r,i){if(r&&r.once)return Ks(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Hs(e,t[a],n,r,i);return null}return n=Zs(n),e&&e[As]?e.N(t,n,Go(r)?!!r.capture:!!r,i):Ws(e,t,n,!1,r,i)}function Ws(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Go(i)?!!i.capture:!!i,s=Ys(e);if(s||(e[Bs]=s=new Fs(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=$s;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)os||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Xs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ks(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ks(e,t[a],n,r,i);return null}return n=Zs(n),e&&e[As]?e.O(t,n,Go(r)?!!r.capture:!!r,i):Ws(e,t,n,!0,r,i)}function Gs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Gs(e,t[a],n,r,i);else r=Go(r)?!!r.capture:!!r,n=Zs(n),e&&e[As]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=zs(a=e.g[t],n,r,i))&&(Ps(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ys(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zs(t,n,r,i)),(n=-1<e?t[e]:null)&&Qs(n))}function Qs(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[As])Vs(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Xs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ys(t))?(Vs(n,e),0==n.h&&(n.src=null,t[Bs]=null)):Ps(e)}}}function Xs(e){return e in qs?qs[e]:qs[e]="on"+e}function $s(e,t){if(e.ba)e=!0;else{t=new Ns(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Qs(e),e=n.call(r,t)}return e}function Ys(e){return(e=e[Bs])instanceof Fs?e:null}var Js="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(e){return"function"===typeof e?e:(e[Js]||(e[Js]=function(t){return e.handleEvent(t)}),e[Js])}function eu(){ts.call(this),this.i=new Fs(this),this.P=this,this.I=null}function tu(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new as(t,e);else if(t instanceof as)t.target=t.target||e;else{var i=t;Us(t=new as(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=nu(o,r,!0,t)&&i}if(i=nu(o=t.g=e,r,!0,t)&&i,i=nu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=nu(o=t.g=n[a],r,!1,t)&&i}function nu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Vs(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}es(eu,ts),eu.prototype[As]=!0,eu.prototype.removeEventListener=function(e,t,n,r){Gs(this,e,t,n,r)},eu.prototype.M=function(){if(eu.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ps(n[r]);delete t.g[e],t.h--}}this.I=null},eu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},eu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ru=Ho.JSON.stringify;function iu(){var e=hu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var au,ou=function(){function e(){u(this,e),this.h=this.g=null}return c(e,[{key:"add",value:function(e,t){var n=su.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),su=new(function(){function e(t,n){u(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return c(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new uu}),(function(e){return e.reset()})),uu=function(){function e(){u(this,e),this.next=this.g=this.h=null}return c(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function lu(e){Ho.setTimeout((function(){throw e}),0)}function cu(e,t){au||function(){var e=Ho.Promise.resolve(void 0);au=function(){e.then(du)}}(),fu||(au(),fu=!0),hu.add(e,t)}var fu=!1,hu=new ou;function du(){for(var e;e=iu();){try{e.h.call(e.g)}catch(n){lu(n)}var t=su;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fu=!1}function pu(e,t){eu.call(this),this.h=e||1,this.g=t||Ho,this.j=Jo(this.lb,this),this.l=Date.now()}function vu(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function mu(e,t,n){if("function"===typeof e)n&&(e=Jo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jo(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ho.setTimeout(e,t||0)}function yu(e){e.g=mu((function(){e.g=null,e.i&&(e.i=!1,yu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}es(pu,eu),(Vo=pu.prototype).ca=!1,Vo.R=null,Vo.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),tu(this,"tick"),this.ca&&(vu(this),this.start()))}},Vo.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vo.M=function(){pu.X.M.call(this),vu(this),delete this.g};var gu=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return c(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:yu(this)}},{key:"M",value:function(){je(d(n.prototype),"M",this).call(this),this.g&&(Ho.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ts);function ku(e){ts.call(this),this.h=e,this.g={}}es(ku,ts);var bu=[];function wu(e,t,n,r){Array.isArray(n)||(n&&(bu[0]=n.toString()),n=bu);for(var i=0;i<n.length;i++){var a=Hs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function _u(e){Ls(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Qs(e)}),e),e.g={}}function xu(){this.g=!0}function Eu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ru(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ku.prototype.M=function(){ku.X.M.call(this),_u(this)},ku.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xu.prototype.Aa=function(){this.g=!1},xu.prototype.info=function(){};var Su={},Tu=null;function Iu(){return Tu=Tu||new eu}function Cu(e){as.call(this,Su.Pa,e)}function Nu(e){var t=Iu();tu(t,new Cu(t))}function Ru(e,t){as.call(this,Su.STAT_EVENT,e),this.stat=t}function Au(e){var t=Iu();tu(t,new Ru(t,e))}function Ou(e,t){as.call(this,Su.Qa,e),this.size=t}function Du(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ho.setTimeout((function(){e()}),t)}Su.Pa="serverreachability",es(Cu,as),Su.STAT_EVENT="statevent",es(Ru,as),Su.Qa="timingevent",es(Ou,as);var Pu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Lu={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Mu(){}function ju(e){return e.h||(e.h=e.i())}function Uu(){}Mu.prototype.h=null;var Fu,Vu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function zu(){as.call(this,"d")}function Bu(){as.call(this,"c")}function qu(){}function Hu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new ku(this),this.O=Ku,e=ys?125:void 0,this.T=new pu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Wu}function Wu(){this.i=null,this.g="",this.h=!1}es(zu,as),es(Bu,as),es(qu,Mu),qu.prototype.g=function(){return new XMLHttpRequest},qu.prototype.i=function(){return{}},Fu=new qu;var Ku=45e3,Gu={},Qu={};function Xu(e,t,n){e.K=1,e.v=pl(ll(t)),e.s=n,e.P=!0,$u(e,null)}function $u(e,t){e.F=Date.now(),el(e),e.A=ll(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Il(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Wu,e.g=Cc(e.l,n?t:null,!e.s),0<e.N&&(e.L=new gu(Jo(e.La,e,e.g),e.N)),wu(e.S,e.g,"readystatechange",e.ib),t=e.H?Ms(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Nu(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Yu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ju(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Zu(e,n))==Qu){4==t&&(e.o=4,Au(14),i=!1),Eu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Gu){e.o=4,Au(15),Eu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Eu(e.j,e.m,r,null),al(e,r)}Yu(e)&&r!=Qu&&r!=Gu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Au(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),bc(t),t.K=!0,Au(11))):(Eu(e.j,e.m,n,"[Invalid Chunked Response]"),il(e),rl(e))}function Zu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qu:(n=Number(t.substring(n,r)),isNaN(n)?Gu:(r+=1)+n>t.length?Qu:(t=t.substr(r,n),e.C=r+n,t))}function el(e){e.V=Date.now()+e.O,tl(e,e.O)}function tl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Du(Jo(e.gb,e),t)}function nl(e){e.B&&(Ho.clearTimeout(e.B),e.B=null)}function rl(e){0==e.l.G||e.I||xc(e.l,e)}function il(e){nl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,vu(e.T),_u(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function al(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ll(n.h,e)))if(!e.J&&Ll(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;_c(n),hc(n)}kc(n),Au(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Du(Jo(n.cb,n),6e3));if(1>=Pl(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Sc(n,11)}else if((e.J||n.g==e)&&_c(n),!ss(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ml(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,dl(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Ic(r,r.H?r.ka:null,r.V),d.J){jl(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(nl(p),el(p)),r.g=d}else gc(r);0<n.i.length&&pc(n)}else"stop"!=a[0]&&"close"!=a[0]||Sc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Sc(n,7):fc(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Nu()}catch(a){}}function ol(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ko(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ko(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ko(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Vo=Hu.prototype).setTimeout=function(e){this.O=e},Vo.ib=function(e){e=e.target;var t=this.L;t&&3==ac(e)?t.l():this.La(e)},Vo.La=function(e){try{if(e==this.g)e:{var t=ac(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||ys||this.g&&(this.h.h||this.g.fa()||oc(this.g)))){this.I||4!=t||7==n||Nu(),nl(this);var r=this.g.aa();this.Y=r;t:if(Yu(this)){var i=oc(this.g);e="";var a=i.length,o=4==ac(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){il(this),rl(this);var s="";break t}this.h.i=new Ho.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ss(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Au(12),il(this),rl(this);break e}Eu(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,al(this,r)}this.P?(Ju(this,t,s),ys&&this.i&&3==t&&(wu(this.S,this.T,"tick",this.hb),this.T.start())):(Eu(this.j,this.m,s,null),al(this,s)),4==t&&il(this),this.i&&!this.I&&(4==t?xc(this.l,this):(this.i=!1,el(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Au(12)):(this.o=0,Au(13)),il(this),rl(this)}}}catch(t){}},Vo.hb=function(){if(this.g){var e=ac(this.g),t=this.g.fa();this.C<t.length&&(nl(this),Ju(this,e,t),this.i&&4!=e&&el(this))}},Vo.cancel=function(){this.I=!0,il(this)},Vo.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Nu(),Au(17)),il(this),this.o=2,rl(this)):tl(this,this.V-e)};var sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ul(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ul){this.h=void 0!==t?t:e.h,cl(this,e.j),this.s=e.s,this.g=e.g,fl(this,e.m),this.l=e.l,t=e.i;var n=new xl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),hl(this,n),this.o=e.o}else e&&(n=String(e).match(sl))?(this.h=!!t,cl(this,n[1]||"",!0),this.s=vl(n[2]||""),this.g=vl(n[3]||"",!0),fl(this,n[4]),this.l=vl(n[5]||"",!0),hl(this,n[6]||"",!0),this.o=vl(n[7]||"")):(this.h=!!t,this.i=new xl(null,this.h))}function ll(e){return new ul(e)}function cl(e,t,n){e.j=n?vl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function fl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hl(e,t,n){t instanceof xl?(e.i=t,function(e,t){t&&!e.j&&(El(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Sl(this,t),Il(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ml(t,wl)),e.i=new xl(t,e.h))}function dl(e,t,n){e.i.set(t,n)}function pl(e){return dl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ml(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ul.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ml(t,gl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ml(t,gl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ml(n,"/"==n.charAt(0)?bl:kl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ml(n,_l)),e.join("")};var gl=/[#\/\?@]/g,kl=/[#\?:]/g,bl=/[#\?]/g,wl=/[#\?@]/g,_l=/#/g;function xl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function El(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Sl(e,t){El(e),t=Cl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Tl(e,t){return El(e),t=Cl(e,t),e.g.has(t)}function Il(e,t,n){Sl(e,t),0<n.length&&(e.i=null,e.g.set(Cl(e,t),rs(n)),e.h+=n.length)}function Cl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Vo=xl.prototype).add=function(e,t){El(this),this.i=null,e=Cl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Vo.forEach=function(e,t){El(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Vo.oa=function(){El(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Vo.W=function(e){El(this);var t=[];if("string"===typeof e)Tl(this,e)&&(t=t.concat(this.g.get(Cl(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Vo.set=function(e,t){return El(this),this.i=null,Tl(this,e=Cl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Vo.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Vo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Nl=c((function e(t,n){u(this,e),this.h=t,this.g=n}));function Rl(e){this.l=e||Ol,Ho.PerformanceNavigationTiming?e=0<(e=Ho.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ho.g&&Ho.g.Ga&&Ho.g.Ga()&&Ho.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Al,Ol=10;function Dl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Pl(e){return e.h?1:e.g?e.g.size:0}function Ll(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ml(e,t){e.g?e.g.add(t):e.h=t}function jl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ul(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ue(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return rs(e.i)}function Fl(){}function Vl(){this.g=new Fl}function zl(e,t,n){var r=n||"";try{ol(e,(function(e,n){var i=e;Go(e)&&(i=ru(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ql(e){this.l=e.ac||null,this.j=e.jb||!1}function Hl(e,t){eu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Wl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rl.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ue(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Fl.prototype.stringify=function(e){return Ho.JSON.stringify(e,void 0)},Fl.prototype.parse=function(e){return Ho.JSON.parse(e,void 0)},es(ql,Mu),ql.prototype.g=function(){return new Hl(this.l,this.j)},ql.prototype.i=(Al={},function(){return Al}),es(Hl,eu);var Wl=0;function Kl(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Gl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ql(e)}function Ql(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Vo=Hl.prototype).open=function(e,t){if(this.readyState!=Wl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ql(this)},Vo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ho).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Vo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gl(this)),this.readyState=Wl},Vo.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ql(this)),this.g&&(this.readyState=3,Ql(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Ho.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Kl(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Vo.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Gl(this):Ql(this),3==this.readyState&&Kl(this)}},Vo.Va=function(e){this.g&&(this.response=this.responseText=e,Gl(this))},Vo.Ua=function(e){this.g&&(this.response=e,Gl(this))},Vo.ga=function(){this.g&&Gl(this)},Vo.setRequestHeader=function(e,t){this.v.append(e,t)},Vo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Vo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Xl=Ho.JSON.parse;function $l(e){eu.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yl,this.K=this.L=!1}es($l,eu);var Yl="",Jl=/^https?$/i,Zl=["POST","PUT"];function ec(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,tc(e),rc(e)}function tc(e){e.D||(e.D=!0,tu(e,"complete"),tu(e,"error"))}function nc(e){if(e.h&&"undefined"!=typeof qo&&(!e.C[1]||4!=ac(e)||2!=e.aa()))if(e.v&&4==ac(e))mu(e.Ha,0,e);else if(tu(e,"readystatechange"),4==ac(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(sl)[1]||null;if(!a&&Ho.self&&Ho.self.location){var o=Ho.self.location.protocol;a=o.substr(0,o.length-1)}i=!Jl.test(a?a.toLowerCase():"")}t=i}if(t)tu(e,"complete"),tu(e,"success");else{e.m=6;try{var s=2<ac(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",tc(e)}}finally{rc(e)}}}function rc(e,t){if(e.g){ic(e);var n=e.g,r=e.C[0]?Wo:null;e.g=null,e.C=null,t||tu(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ic(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ho.clearTimeout(e.A),e.A=null)}function ac(e){return e.g?e.g.readyState:0}function oc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Yl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Hc){return null}}function sc(e){var t="";return Ls(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function uc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):dl(e,t,n))}function lc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function cc(e){this.Ca=0,this.i=[],this.j=new xu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=lc("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=lc("baseRetryDelayMs",5e3,e),this.bb=lc("retryDelaySeedMs",1e4,e),this.$a=lc("forwardChannelMaxRetries",2,e),this.ta=lc("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Rl(e&&e.concurrentRequestLimit),this.Fa=new Vl,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function fc(e){if(dc(e),3==e.G){var t=e.U++,n=ll(e.F);dl(n,"SID",e.I),dl(n,"RID",t),dl(n,"TYPE","terminate"),mc(e,n),(t=new Hu(e,e.j,t,void 0)).K=2,t.v=pl(ll(n)),n=!1,Ho.navigator&&Ho.navigator.sendBeacon&&(n=Ho.navigator.sendBeacon(t.v.toString(),"")),!n&&Ho.Image&&((new Image).src=t.v,n=!0),n||(t.g=Cc(t.l,null),t.g.da(t.v)),t.F=Date.now(),el(t)}Tc(e)}function hc(e){e.g&&(bc(e),e.g.cancel(),e.g=null)}function dc(e){hc(e),e.u&&(Ho.clearTimeout(e.u),e.u=null),_c(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Ho.clearTimeout(e.m),e.m=null)}function pc(e){Dl(e.h)||e.m||(e.m=!0,cu(e.Ja,e),e.C=0)}function vc(e,t){var n;n=t?t.m:e.U++;var r=ll(e.F);dl(r,"SID",e.I),dl(r,"RID",n),dl(r,"AID",e.T),mc(e,r),e.o&&e.s&&uc(r,e.o,e.s),n=new Hu(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=yc(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Ml(e.h,n),Xu(n,r,t)}function mc(e,t){e.ia&&Ls(e.ia,(function(e,n){dl(t,n,e)})),e.l&&ol({},(function(e,n){dl(t,n,e)}))}function yc(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Jo(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{zl(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function gc(e){e.g||e.u||(e.Z=1,cu(e.Ia,e),e.A=0)}function kc(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Du(Jo(e.Ia,e),Ec(e,e.A)),e.A++,!0)}function bc(e){null!=e.B&&(Ho.clearTimeout(e.B),e.B=null)}function wc(e){e.g=new Hu(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=ll(e.sa);dl(t,"RID","rpc"),dl(t,"SID",e.I),dl(t,"CI",e.L?"0":"1"),dl(t,"AID",e.T),dl(t,"TYPE","xmlhttp"),mc(e,t),e.o&&e.s&&uc(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=pl(ll(t)),n.s=null,n.P=!0,$u(n,e)}function _c(e){null!=e.v&&(Ho.clearTimeout(e.v),e.v=null)}function xc(e,t){var n=null;if(e.g==t){_c(e),bc(e),e.g=null;var r=2}else{if(!Ll(e.h,t))return;n=t.D,jl(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;tu(r=Iu(),new Ou(r,n)),pc(e)}else gc(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Pl(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Du(Jo(e.Ja,e,t),Ec(e,e.C)),e.C++,!0))}(e,t)||2==r&&kc(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Sc(e,5);break;case 4:Sc(e,10);break;case 3:Sc(e,6);break;default:Sc(e,2)}}function Ec(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Sc(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Jo(e.kb,e);n||(n=new ul("//www.google.com/images/cleardot.gif"),Ho.location&&"http"==Ho.location.protocol||cl(n,"https"),pl(n)),function(e,t){var n=new xu;if(Ho.Image){var r=new Image;r.onload=Zo(Bl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zo(Bl,n,r,"TestLoadImage: error",!1,t),r.onabort=Zo(Bl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zo(Bl,n,r,"TestLoadImage: timeout",!1,t),Ho.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Au(2);e.G=0,e.l&&e.l.va(t),Tc(e),dc(e)}function Tc(e){if(e.G=0,e.la=[],e.l){var t=Ul(e.h);0==t.length&&0==e.i.length||(is(e.la,t),is(e.la,e.i),e.h.i.length=0,rs(e.i),e.i.length=0),e.l.ua()}}function Ic(e,t,n){var r=n instanceof ul?ll(n):new ul(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),fl(r,r.m);else{var i=Ho.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ul(null,void 0);r&&cl(a,r),t&&(a.g=t),i&&fl(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&dl(r,n,t),dl(r,"VER",e.ma),mc(e,r),r}function Cc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new $l(new ql({jb:!0})):new $l(e.ra)).Ka(e.H),t}function Nc(){}function Rc(){if(vs&&!(10<=Number(Cs)))throw Error("Environmental error: no available transport.")}function Ac(e,t){eu.call(this),this.g=new cc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!ss(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ss(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pc(this)}function Oc(e){zu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Dc(){Bu.call(this),this.status=1}function Pc(e){this.g=e}(Vo=$l.prototype).Ka=function(e){this.L=e},Vo.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fu.g(),this.C=this.u?ju(this.u):ju(Fu),this.g.onreadystatechange=Jo(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void ec(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Ue(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ho.FormData&&e instanceof Ho.FormData,!(0<=ns(Zl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=Ue(n);try{for(l.s();!(u=l.n()).done;){var c=k(u.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(d){l.e(d)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ic(this),0<this.B&&((this.K=function(e){return vs&&Ts()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jo(this.qa,this)):this.A=mu(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ec(this,s)}},Vo.qa=function(){"undefined"!=typeof qo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tu(this,"timeout"),this.abort(8))},Vo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tu(this,"complete"),tu(this,"abort"),rc(this))},Vo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rc(this,!0)),$l.X.M.call(this)},Vo.Ha=function(){this.s||(this.F||this.v||this.l?nc(this):this.fb())},Vo.fb=function(){nc(this)},Vo.aa=function(){try{return 2<ac(this)?this.g.status:-1}catch(Al){return-1}},Vo.fa=function(){try{return this.g?this.g.responseText:""}catch(Al){return""}},Vo.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Xl(t)}},Vo.Ea=function(){return this.m},Vo.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Vo=cc.prototype).ma=8,Vo.G=1,Vo.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Hu(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Us(n=Ms(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=yc(this,t,r),dl(i=ll(this.F),"RID",e),dl(i,"CVER",22),this.D&&dl(i,"X-HTTP-Session-Id",this.D),mc(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(sc(n)))+"&"+r:this.o&&uc(i,this.o,n)),Ml(this.h,t),this.Ya&&dl(i,"TYPE","init"),this.O?(dl(i,"$req",r),dl(i,"SID","null"),t.Z=!0,Xu(t,i,null)):Xu(t,i,r),this.G=2}}else 3==this.G&&(e?vc(this,e):0==this.i.length||Dl(this.h)||vc(this))},Vo.Ia=function(){if(this.u=null,wc(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Du(Jo(this.eb,this),e)}},Vo.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Au(10),hc(this),wc(this))},Vo.cb=function(){null!=this.v&&(this.v=null,hc(this),kc(this),Au(19))},Vo.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Au(2)):(this.j.info("Failed to ping google.com"),Au(1))},(Vo=Nc.prototype).xa=function(){},Vo.wa=function(){},Vo.va=function(){},Vo.ua=function(){},Vo.Ra=function(){},Rc.prototype.g=function(e,t){return new Ac(e,t)},es(Ac,eu),Ac.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Au(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Ic(e,null,e.V),pc(e)},Ac.prototype.close=function(){fc(this.g)},Ac.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ru(e),e=n);t.i.push(new Nl(t.ab++,e)),3==t.G&&pc(t)},Ac.prototype.M=function(){this.g.l=null,delete this.j,fc(this.g),delete this.g,Ac.X.M.call(this)},es(Oc,zu),es(Dc,Bu),es(Pc,Nc),Pc.prototype.xa=function(){tu(this.g,"a")},Pc.prototype.wa=function(e){tu(this.g,new Oc(e))},Pc.prototype.va=function(e){tu(this.g,new Dc)},Pc.prototype.ua=function(){tu(this.g,"b")},Rc.prototype.createWebChannel=Rc.prototype.g,Ac.prototype.send=Ac.prototype.u,Ac.prototype.open=Ac.prototype.m,Ac.prototype.close=Ac.prototype.close,Pu.NO_ERROR=0,Pu.TIMEOUT=8,Pu.HTTP_ERROR=6,Lu.COMPLETE="complete",Uu.EventType=Vu,Vu.OPEN="a",Vu.CLOSE="b",Vu.ERROR="c",Vu.MESSAGE="d",eu.prototype.listen=eu.prototype.N,$l.prototype.listenOnce=$l.prototype.O,$l.prototype.getLastError=$l.prototype.Oa,$l.prototype.getLastErrorCode=$l.prototype.Ea,$l.prototype.getStatus=$l.prototype.aa,$l.prototype.getResponseJson=$l.prototype.Sa,$l.prototype.getResponseText=$l.prototype.fa,$l.prototype.send=$l.prototype.da,$l.prototype.setWithCredentials=$l.prototype.Ka;var Lc=Bo.createWebChannelTransport=function(){return new Rc},Mc=Bo.getStatEventTarget=function(){return Iu()},jc=Bo.ErrorCode=Pu,Uc=Bo.EventType=Lu,Fc=Bo.Event=Su,Vc=Bo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},zc=Bo.FetchXmlHttpFactory=ql,Bc=Bo.WebChannel=Uu,qc=Bo.XhrIo=$l,Hc="@firebase/firestore",Wc=function(){function e(t){u(this,e),this.uid=t}return c(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Wc.UNAUTHENTICATED=new Wc(null),Wc.GOOGLE_CREDENTIALS=new Wc("google-credentials-uid"),Wc.FIRST_PARTY=new Wc("first-party-uid"),Wc.MOCK_USER=new Wc("mock-user");var Kc="9.14.0",Gc=new Tt("@firebase/firestore");function Qc(){return Gc.logLevel}function Xc(e){if(Gc.logLevel<=kt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jc);Gc.debug.apply(Gc,["Firestore (".concat(Kc,"): ").concat(e)].concat(s(i)))}}function $c(e){if(Gc.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jc);Gc.error.apply(Gc,["Firestore (".concat(Kc,"): ").concat(e)].concat(s(i)))}}function Yc(e){if(Gc.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jc);Gc.warn.apply(Gc,["Firestore (".concat(Kc,"): ").concat(e)].concat(s(i)))}}function Jc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Kc,") INTERNAL ASSERTION FAILED: ")+e;throw $c(t),new Error(t)}function ef(e,t){e||Zc()}function tf(e,t){return e}var nf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rf=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return c(n)}(rt),af=c((function e(){var t=this;u(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),of=c((function e(t,n){u(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),sf=function(){function e(){u(this,e)}return c(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),uf=function(){function e(t){u(this,e),this.token=t,this.changeListener=null}return c(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),lf=function(){function e(t){u(this,e),this.t=t,this.currentUser=Wc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return c(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new af;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new af,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Xc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Xc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new af)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Xc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ef("string"==typeof n.accessToken),new of(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ef(null===e||"string"==typeof e),new Wc(e)}}]),e}(),cf=function(){function e(t,n,r,i){u(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Wc.FIRST_PARTY,this.p=new Map}return c(e,[{key:"I",value:function(){return this.g?this.g():(ef(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),ff=function(){function e(t,n,r,i){u(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return c(e,[{key:"getToken",value:function(){return Promise.resolve(new cf(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),hf=c((function e(t){u(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),df=function(){function e(t){u(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return c(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Xc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Xc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Xc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Xc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ef("string"==typeof t.token),e.A=t.token,new hf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function pf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var vf=function(){function e(){u(this,e)}return c(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=pf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function mf(e,t){return e<t?-1:e>t?1:0}function yf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var gf=function(){function e(t,n){if(u(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new rf(nf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rf(nf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rf(nf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rf(nf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return c(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?mf(this.nanoseconds,e.nanoseconds):mf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),kf=function(){function e(t){u(this,e),this.timestamp=t}return c(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new gf(0,0))}},{key:"max",value:function(){return new e(new gf(253402300799,999999999))}}]),e}(),bf=function(){function e(t,n,r){u(this,e),void 0===n?n=0:n>t.length&&Zc(),void 0===r?r=t.length-n:r>t.length-n&&Zc(),this.segments=t,this.offset=n,this.len=r}return c(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),wf=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new rf(nf.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,s(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bf),_f=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xf=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return _f.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new rf(nf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new rf(nf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rf(nf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new rf(nf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bf),Ef=function(){function e(t){u(this,e),this.path=t}return c(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===wf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(wf.fromString(t))}},{key:"fromName",value:function(t){return new e(wf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(wf.emptyPath())}},{key:"comparator",value:function(e,t){return wf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new wf(t.slice()))}}]),e}(),Sf=c((function e(t,n,r,i){u(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Sf.UNKNOWN_ID=-1;function Tf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=kf.fromTimestamp(1e9===r?new gf(n+1,0):new gf(n,r));return new Cf(i,Ef.empty(),t)}function If(e){return new Cf(e.readTime,e.key,-1)}var Cf=function(){function e(t,n,r){u(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return c(e,null,[{key:"min",value:function(){return new e(kf.min(),Ef.empty(),-1)}},{key:"max",value:function(){return new e(kf.max(),Ef.empty(),-1)}}]),e}();function Nf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ef.comparator(e.documentKey,t.documentKey))?n:mf(e.largestBatchId,t.largestBatchId)}var Rf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Af=function(){function e(){u(this,e),this.onCommittedListeners=[]}return c(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Of(e){return Df.apply(this,arguments)}function Df(){return Df=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===nf.FAILED_PRECONDITION&&t.message===Rf){e.next=2;break}throw t;case 2:Xc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}var Pf=function(){function e(t){var n=this;u(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return c(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Zc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ue(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Lf(e){return"IndexedDbTransactionError"===e.name}var Mf=function(){function e(t,n){var r=this;u(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return c(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function jf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Uf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ff(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Mf.at=-1;var Vf=function(){function e(t,n){u(this,e),this.comparator=t,this.root=n||Bf.EMPTY}return c(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new zf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new zf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new zf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new zf(this.root,e,this.comparator,!0)}}]),e}(),zf=function(){function e(t,n,r,i){u(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return c(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Bf=function(){function e(t,n,r,i,a){u(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return c(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Zc();if(this.right.isRed())throw Zc();var e=this.left.check();if(e!==this.right.check())throw Zc();return e+(this.isRed()?0:1)}}]),e}();Bf.EMPTY=null,Bf.RED=!0,Bf.BLACK=!1,Bf.EMPTY=new(function(){function e(){u(this,e),this.size=0}return c(e,[{key:"key",get:function(){throw Zc()}},{key:"value",get:function(){throw Zc()}},{key:"color",get:function(){throw Zc()}},{key:"left",get:function(){throw Zc()}},{key:"right",get:function(){throw Zc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Bf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var qf=function(){function e(t){u(this,e),this.comparator=t,this.data=new Vf(this.comparator)}return c(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Hf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Hf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Hf=function(){function e(t){u(this,e),this.iter=t}return c(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Wf=function(){function e(t){u(this,e),this.fields=t,t.sort(xf.comparator)}return c(e,[{key:"unionWith",value:function(t){var n,r=new qf(xf.comparator),i=Ue(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=Ue(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ue(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return yf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Kf=function(e){function t(e){u(this,t),this.binaryString=e}return c(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return mf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Kf.EMPTY_BYTE_STRING=new Kf("");var Gf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qf(e){if(ef(!!e),"string"==typeof e){var t=0,n=Gf.exec(e);if(ef(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xf(e.seconds),nanos:Xf(e.nanos)}}function Xf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function $f(e){return"string"==typeof e?Kf.fromBase64String(e):Kf.fromUint8Array(e)}function Yf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jf(e){var t=e.mapValue.fields.__previous_value__;return Yf(t)?Jf(t):t}function Zf(e){var t=Qf(e.mapValue.fields.__local_write_time__.timestampValue);return new gf(t.seconds,t.nanos)}var eh=c((function e(t,n,r,i,a,o,s,l){u(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=l})),th=function(){function e(t,n){u(this,e),this.projectId=t,this.database=n||"(default)"}return c(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function nh(e){return null==e}function rh(e){return 0===e&&1/e==-1/0}function ih(e){return"number"==typeof e&&Number.isInteger(e)&&!rh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yf(e)?4:kh(e)?9007199254740991:10:Zc()}function sh(e,t){if(e===t)return!0;var n=oh(e);if(n!==oh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zf(e).isEqual(Zf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Qf(e.timestampValue),r=Qf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return $f(e.bytesValue).isEqual($f(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xf(e.geoPointValue.latitude)===Xf(t.geoPointValue.latitude)&&Xf(e.geoPointValue.longitude)===Xf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xf(e.integerValue)===Xf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Xf(e.doubleValue),r=Xf(t.doubleValue);return n===r?rh(n)===rh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return yf(e.arrayValue.values||[],t.arrayValue.values||[],sh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jf(n)!==jf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sh(n[i],r[i])))return!1;return!0}(e,t);default:return Zc()}}function uh(e,t){return void 0!==(e.values||[]).find((function(e){return sh(e,t)}))}function lh(e,t){if(e===t)return 0;var n=oh(e),r=oh(t);if(n!==r)return mf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Xf(e.integerValue||e.doubleValue),r=Xf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ch(e.timestampValue,t.timestampValue);case 4:return ch(Zf(e),Zf(t));case 5:return mf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=$f(e),r=$f(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=mf(n[i],r[i]);if(0!==a)return a}return mf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=mf(Xf(e.latitude),Xf(t.latitude));return 0!==n?n:mf(Xf(e.longitude),Xf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=lh(n[i],r[i]);if(a)return a}return mf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ah.mapValue&&t===ah.mapValue)return 0;if(e===ah.mapValue)return 1;if(t===ah.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=mf(r[o],a[o]);if(0!==s)return s;var u=lh(n[r[o]],i[a[o]]);if(0!==u)return u}return mf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Zc()}}function ch(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mf(e,t);var n=Qf(e),r=Qf(t),i=mf(n.seconds,r.seconds);return 0!==i?i:mf(n.nanos,r.nanos)}function fh(e){return hh(e)}function hh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Qf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$f(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ef.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ue(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=hh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ue(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(hh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Zc();var t,n}function dh(e){return!!e&&"integerValue"in e}function ph(e){return!!e&&"arrayValue"in e}function vh(e){return!!e&&"nullValue"in e}function mh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yh(e){return!!e&&"mapValue"in e}function gh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Uf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=gh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=gh(e.arrayValue.values[r]);return n}return Object.assign({},e)}function kh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var bh=function(){function e(t){u(this,e),this.value=t}return c(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!yh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gh(t)}},{key:"setAll",value:function(e){var t=this,n=xf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=gh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return sh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];yh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Uf(t,(function(t,n){return e[t]=n}));var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(gh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function wh(e){var t=[];return Uf(e.fields,(function(e,n){var r=new xf([e]);if(yh(n)){var i=wh(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ue(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Wf(t)}var _h=function(){function e(t,n,r,i,a,o){u(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return c(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=bh.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=bh.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=kf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,kf.min(),kf.min(),bh.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,kf.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,kf.min(),bh.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,kf.min(),bh.empty(),2)}}]),e}(),xh=c((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;u(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function Eh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new xh(e,t,n,r,i,a,o)}function Sh(e){var t=tf(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+fh(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return fh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return fh(e)})).join(",")),t.ht=n}return t.ht}function Th(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Fh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!sh(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zh(e.startAt,t.startAt)&&zh(e.endAt,t.endAt)}function Ih(e){return Ef.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ch=function(e){h(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return c(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(lh(t,this.value)):null!==t&&oh(this.value)===oh(t)&&this.ft(lh(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zc()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Nh(e,t,r):"array-contains"===t?new Dh(e,r):"in"===t?new Ph(e,r):"not-in"===t?new Lh(e,r):"array-contains-any"===t?new Mh(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Rh(e,n):new Ah(e,n)}}]),n}(function(){return c((function e(){u(this,e)}))}()),Nh=function(e){h(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,i)).key=Ef.fromName(i.referenceValue),a}return c(n,[{key:"matches",value:function(e){var t=Ef.comparator(e.key,this.key);return this.ft(t)}}]),n}(Ch),Rh=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"in",r)).keys=Oh("in",r),i}return c(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ch),Ah=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"not-in",r)).keys=Oh("not-in",r),i}return c(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ch);function Oh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ef.fromName(e.referenceValue)}))}var Dh=function(e){h(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains",r)}return c(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ph(t)&&uh(t.arrayValue,this.value)}}]),n}(Ch),Ph=function(e){h(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"in",r)}return c(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&uh(this.value.arrayValue,t)}}]),n}(Ch),Lh=function(e){h(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"not-in",r)}return c(n,[{key:"matches",value:function(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!uh(this.value.arrayValue,t)}}]),n}(Ch),Mh=function(e){h(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains-any",r)}return c(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ph(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return uh(t.value.arrayValue,e)}))}}]),n}(Ch),jh=c((function e(t,n){u(this,e),this.position=t,this.inclusive=n})),Uh=c((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";u(this,e),this.field=t,this.dir=n}));function Fh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Vh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ef.comparator(Ef.fromName(o.referenceValue),n.key):lh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function zh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!sh(e.position[n],t.position[n]))return!1;return!0}var Bh=c((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;u(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}));function qh(e,t,n,r,i,a,o,s){return new Bh(e,t,n,r,i,a,o,s)}function Hh(e){return new Bh(e)}function Wh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Kh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gh(e){var t,n=Ue(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Qh(e){return null!==e.collectionGroup}function Xh(e){var t=tf(e);if(null===t._t){t._t=[];var n=Gh(t),r=Kh(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Uh(n)),t._t.push(new Uh(xf.keyField(),"asc"));else{var i,a=!1,o=Ue(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Uh(xf.keyField(),u))}}}return t._t}function $h(e){var t=tf(e);if(!t.wt)if("F"===t.limitType)t.wt=Eh(t.path,t.collectionGroup,Xh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ue(Xh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Uh(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new jh(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new jh(t.startAt.position,t.startAt.inclusive):null;t.wt=Eh(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function Yh(e,t,n){return new Bh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jh(e,t){return Th($h(e),$h(t))&&e.limitType===t.limitType}function Zh(e){return"".concat(Sh($h(e)),"|lt:").concat(e.limitType)}function ed(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(fh(t.value));var t})).join(", "),"]")),nh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return fh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return fh(e)})).join(",")),"Target(".concat(t,")")}($h(e)),"; limitType=").concat(e.limitType,")")}function td(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ef.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ue(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ue(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Vh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xh(e),t))&&!(e.endAt&&!function(e,t,n){var r=Vh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xh(e),t))}(e,t)}function nd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rd(e){return function(t,n){var r,i=!1,a=Ue(Xh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=id(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function id(e,t,n){var r=e.field.isKeyField()?Ef.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?lh(r,i):Zc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zc()}}function ad(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function od(e){return{integerValue:""+e}}function sd(e,t){return ih(t)?od(t):ad(e,t)}var ud=c((function e(){u(this,e),this._=void 0}));function ld(e,t,n){return e instanceof hd?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dd?pd(e,t):e instanceof vd?md(e,t):function(e,t){var n=fd(e,t),r=gd(n)+gd(e.yt);return dh(n)&&dh(e.yt)?od(r):ad(e.It,r)}(e,t)}function cd(e,t,n){return e instanceof dd?pd(e,t):e instanceof vd?md(e,t):n}function fd(e,t){return e instanceof yd?dh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var hd=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n)}(ud),dd=function(e){h(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return c(n)}(ud);function pd(e,t){var n,r=kd(t),i=Ue(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return sh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vd=function(e){h(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return c(n)}(ud);function md(e,t){var n,r=kd(t),i=Ue(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!sh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yd=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).It=e,i.yt=r,i}return c(n)}(ud);function gd(e){return Xf(e.integerValue||e.doubleValue)}function kd(e){return ph(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var bd=c((function e(t,n){u(this,e),this.field=t,this.transform=n}));var wd=c((function e(t,n){u(this,e),this.version=t,this.transformResults=n})),_d=function(){function e(t,n){u(this,e),this.updateTime=t,this.exists=n}return c(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function xd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ed=c((function e(){u(this,e)}));function Sd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jd(e.key,_d.none()):new Rd(e.key,e.data,_d.none());var n,r=e.data,i=bh.empty(),a=new qf(xf.comparator),o=Ue(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Ad(e.key,i,new Wf(a.toArray()),_d.none())}function Td(e,t,n){e instanceof Rd?function(e,t,n){var r=e.value.clone(),i=Dd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ad?function(e,t,n){if(xd(e.precondition,t)){var r=Dd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Od(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Id(e,t,n,r){return e instanceof Rd?function(e,t,n,r){if(!xd(e.precondition,t))return n;var i=e.value.clone(),a=Pd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ad?function(e,t,n,r){if(!xd(e.precondition,t))return n;var i=Pd(e.fieldTransforms,r,t),a=t.data;return a.setAll(Od(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return xd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cd(e,t){var n,r=null,i=Ue(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=fd(a.transform,o||null);null!=s&&(null===r&&(r=bh.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Nd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dd&&t instanceof dd||e instanceof vd&&t instanceof vd?yf(e.elements,t.elements,sh):e instanceof yd&&t instanceof yd?sh(e.yt,t.yt):e instanceof hd&&t instanceof hd}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Rd=function(e){h(n,e);var t=g(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return u(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return c(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ed),Ad=function(e){h(n,e);var t=g(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return u(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return c(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ed);function Od(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Dd(e,t,n){var r=new Map;ef(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,cd(o,s,n[i]))}return r}function Pd(e,t,n){var r,i=new Map,a=Ue(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,ld(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Ld,Md,jd=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return c(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ed),Ud=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return c(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ed),Fd=c((function e(t){u(this,e),this.count=t}));function Vd(e){switch(e){default:return Zc();case nf.CANCELLED:case nf.UNKNOWN:case nf.DEADLINE_EXCEEDED:case nf.RESOURCE_EXHAUSTED:case nf.INTERNAL:case nf.UNAVAILABLE:case nf.UNAUTHENTICATED:return!1;case nf.INVALID_ARGUMENT:case nf.NOT_FOUND:case nf.ALREADY_EXISTS:case nf.PERMISSION_DENIED:case nf.FAILED_PRECONDITION:case nf.ABORTED:case nf.OUT_OF_RANGE:case nf.UNIMPLEMENTED:case nf.DATA_LOSS:return!0}}function zd(e){if(void 0===e)return $c("GRPC error has no .code"),nf.UNKNOWN;switch(e){case Ld.OK:return nf.OK;case Ld.CANCELLED:return nf.CANCELLED;case Ld.UNKNOWN:return nf.UNKNOWN;case Ld.DEADLINE_EXCEEDED:return nf.DEADLINE_EXCEEDED;case Ld.RESOURCE_EXHAUSTED:return nf.RESOURCE_EXHAUSTED;case Ld.INTERNAL:return nf.INTERNAL;case Ld.UNAVAILABLE:return nf.UNAVAILABLE;case Ld.UNAUTHENTICATED:return nf.UNAUTHENTICATED;case Ld.INVALID_ARGUMENT:return nf.INVALID_ARGUMENT;case Ld.NOT_FOUND:return nf.NOT_FOUND;case Ld.ALREADY_EXISTS:return nf.ALREADY_EXISTS;case Ld.PERMISSION_DENIED:return nf.PERMISSION_DENIED;case Ld.FAILED_PRECONDITION:return nf.FAILED_PRECONDITION;case Ld.ABORTED:return nf.ABORTED;case Ld.OUT_OF_RANGE:return nf.OUT_OF_RANGE;case Ld.UNIMPLEMENTED:return nf.UNIMPLEMENTED;case Ld.DATA_LOSS:return nf.DATA_LOSS;default:return Zc()}}(Md=Ld||(Ld={}))[Md.OK=0]="OK",Md[Md.CANCELLED=1]="CANCELLED",Md[Md.UNKNOWN=2]="UNKNOWN",Md[Md.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Md[Md.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Md[Md.NOT_FOUND=5]="NOT_FOUND",Md[Md.ALREADY_EXISTS=6]="ALREADY_EXISTS",Md[Md.PERMISSION_DENIED=7]="PERMISSION_DENIED",Md[Md.UNAUTHENTICATED=16]="UNAUTHENTICATED",Md[Md.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Md[Md.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Md[Md.ABORTED=10]="ABORTED",Md[Md.OUT_OF_RANGE=11]="OUT_OF_RANGE",Md[Md.UNIMPLEMENTED=12]="UNIMPLEMENTED",Md[Md.INTERNAL=13]="INTERNAL",Md[Md.UNAVAILABLE=14]="UNAVAILABLE",Md[Md.DATA_LOSS=15]="DATA_LOSS";var Bd=function(){function e(t,n){u(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return c(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=k(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Uf(this.inner,(function(t,n){var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=k(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ff(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),qd=new Vf(Ef.comparator);function Hd(){return qd}var Wd=new Vf(Ef.comparator);function Kd(){for(var e=Wd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Gd(e){var t=Wd;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Qd(){return $d()}function Xd(){return $d()}function $d(){return new Bd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Yd=new Vf(Ef.comparator),Jd=new qf(Ef.comparator);function Zd(){for(var e=Jd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ep=new qf(mf);function tp(){return ep}var np=function(){function e(t,n,r,i,a){u(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return c(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,rp.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(kf.min(),i,tp(),Hd(),Zd())}}]),e}(),rp=function(){function e(t,n,r,i,a){u(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return c(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Zd(),Zd(),Zd())}}]),e}(),ip=c((function e(t,n,r,i){u(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),ap=c((function e(t,n){u(this,e),this.targetId=t,this.At=n})),op=c((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),sp=function(){function e(){u(this,e),this.Rt=0,this.bt=cp(),this.Pt=Kf.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return c(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Zd(),t=Zd(),n=Zd();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zc()}})),new rp(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=cp()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),up=function(){function e(t){u(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Hd(),this.qt=lp(),this.Kt=new qf(mf)}return c(e,[{key:"Gt",value:function(e){var t,n=Ue(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ue(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Zc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Ih(i))if(0===n){var a=new Ef(i.path);this.jt(t,a,_h.newNoDocument(a,kf.min()))}else ef(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Ih(a.target)){var o=new Ef(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,_h.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Zd();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new np(e,n,this.Kt,this.Ut,r);return this.Ut=Hd(),this.qt=lp(),this.Kt=new qf(mf),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new sp,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new qf(mf),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Xc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new sp),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function lp(){return new Vf(Ef.comparator)}function cp(){return new Vf(Ef.comparator)}var fp={asc:"ASCENDING",desc:"DESCENDING"},hp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dp=c((function e(t,n){u(this,e),this.databaseId=t,this.gt=n}));function pp(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vp(e,t){return e.gt?t.toBase64():t.toUint8Array()}function mp(e,t){return pp(e,t.toTimestamp())}function yp(e){return ef(!!e),kf.fromTimestamp(function(e){var t=Qf(e);return new gf(t.seconds,t.nanos)}(e))}function gp(e,t){return function(e){return new wf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function kp(e){var t=wf.fromString(e);return ef(Fp(t)),t}function bp(e,t){return gp(e.databaseId,t.path)}function wp(e,t){var n=kp(t);if(n.get(1)!==e.databaseId.projectId)throw new rf(nf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rf(nf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ef(Sp(n))}function _p(e,t){return gp(e.databaseId,t)}function xp(e){var t=kp(e);return 4===t.length?wf.emptyPath():Sp(t)}function Ep(e){return new wf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sp(e){return ef(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tp(e,t,n){return{name:bp(e,t),fields:n.value.mapValue.fields}}function Ip(e,t){var n;if(t instanceof Rd)n={update:Tp(e,t.key,t.value)};else if(t instanceof jd)n={delete:bp(e,t.key)};else if(t instanceof Ad)n={update:Tp(e,t.key,t.data),updateMask:Up(t.fieldMask)};else{if(!(t instanceof Ud))return Zc();n={verify:bp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof hd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yd)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Zc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:mp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zc()}(e,t.precondition)),n}function Cp(e,t){return{documents:[_p(e,t.path)]}}function Np(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_p(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_p(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(mh(e.value))return{unaryFilter:{field:Pp(e.field),op:"IS_NAN"}};if(vh(e.value))return{unaryFilter:{field:Pp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mh(e.value))return{unaryFilter:{field:Pp(e.field),op:"IS_NOT_NAN"}};if(vh(e.value))return{unaryFilter:{field:Pp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pp(e.field),op:Dp(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Pp(e.field),direction:Op(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.gt||nh(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Rp(e){var t=xp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ef(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ap(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Uh(Lp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return nh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new jh(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new jh(n,t)}(n.endAt)),qh(t,i,s,o,u,"F",l,c)}function Ap(e){return e?void 0!==e.unaryFilter?[jp(e)]:void 0!==e.fieldFilter?[Mp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ap(e)})).reduce((function(e,t){return e.concat(t)})):Zc():[]}function Op(e){return fp[e]}function Dp(e){return hp[e]}function Pp(e){return{fieldPath:e.canonicalString()}}function Lp(e){return xf.fromServerFormat(e.fieldPath)}function Mp(e){return Ch.create(Lp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zc()}}(e.fieldFilter.op),e.fieldFilter.value)}function jp(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Lp(e.unaryFilter.field);return Ch.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Lp(e.unaryFilter.field);return Ch.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lp(e.unaryFilter.field);return Ch.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lp(e.unaryFilter.field);return Ch.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zc()}}function Up(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Fp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Vp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),zp=([].concat(s(Vp),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Bp=zp;[].concat(Bp,["indexConfiguration","indexState","indexEntries"]);var qp=function(){function e(t,n,r,i){u(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return c(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Td(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ue(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Id(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Ue(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Id(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Xd();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Sd(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(kf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Zd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&yf(this.mutations,e.mutations,(function(e,t){return Nd(e,t)}))&&yf(this.baseMutations,e.baseMutations,(function(e,t){return Nd(e,t)}))}}]),e}(),Hp=function(){function e(t,n,r,i){u(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return c(e,null,[{key:"from",value:function(t,n,r){ef(t.mutations.length===r.length);for(var i=Yd,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Wp=function(){function e(t,n){u(this,e),this.largestBatchId=t,this.mutation=n}return c(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Kp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:kf.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Kf.EMPTY_BYTE_STRING;u(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return c(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Gp=c((function e(t){u(this,e),this.re=t}));function Qp(e){var t=Rp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yh(t,t.limit,"L"):t}var Xp=function(){function e(){u(this,e)}return c(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Xf(e.integerValue));else if("doubleValue"in e){var n=Xf(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),rh(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me($f(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?kh(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Zc()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Ef.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();Xp.Te=new Xp;var $p=function(){function e(){u(this,e),this.Ye=new Yp}return c(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Pf.resolve()}},{key:"getCollectionParents",value:function(e,t){return Pf.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Pf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Pf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Pf.resolve(null)}},{key:"getIndexType",value:function(e,t){return Pf.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Pf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Pf.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Pf.resolve(Cf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Pf.resolve(Cf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Pf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Pf.resolve()}}]),e}(),Yp=function(){function e(){u(this,e),this.index={}}return c(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qf(wf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new qf(wf.comparator)).toArray()}}]),e}();new Uint8Array(0);var Jp=function(){function e(t,n,r){u(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return c(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Jp.DEFAULT_COLLECTION_PERCENTILE=10,Jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jp.DEFAULT=new Jp(41943040,Jp.DEFAULT_COLLECTION_PERCENTILE,Jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jp.DISABLED=new Jp(-1,0,0);var Zp=function(){function e(t){u(this,e),this.bn=t}return c(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var ev=function(){function e(){u(this,e),this.changes=new Bd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return c(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,_h.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Pf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var tv=c((function e(t,n){u(this,e),this.overlayedDocument=t,this.mutatedFields=n})),nv=function(){function e(t,n,r,i){u(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return c(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Id(r.mutation,e,Wf.empty(),gf.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Zd()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zd(),i=Qd();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Kd();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Qd();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Zd())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Hd(),a=$d(),o=$d();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ad)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Id(o.mutation,t,o.mutation.getFieldMask(),gf.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new tv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=$d(),i=new Vf((function(e,t){return e-t})),a=Zd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ue(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Wf.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Zd()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Xd();l.forEach((function(e){if(!a.has(e)){var n=Sd(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return Pf.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ef.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Pf.resolve(Qd()),s=-1,u=a;return o.next((function(t){return Pf.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Pf.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Zd())})).next((function(e){return{batchId:s,changes:Gd(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ef(t)).next((function(e){var t=Kd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Kd();return this.indexManager.getCollectionParents(e,i).next((function(o){return Pf.forEach(o,(function(o){var s=function(e,t){return new Bh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,_h.newInvalidDocument(n)))}));var n=Kd();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Id(a.mutation,i,Wf.empty(),gf.now()),td(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Pf.resolve(_h.newInvalidDocument(t))}}]),e}(),rv=function(){function e(t){u(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return c(e,[{key:"getBundleMetadata",value:function(e,t){return Pf.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:yp(n.createTime)}),Pf.resolve()}},{key:"getNamedQuery",value:function(e,t){return Pf.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Qp(e.bundledQuery),readTime:yp(e.readTime)}}(t)),Pf.resolve()}}]),e}(),iv=function(){function e(){u(this,e),this.overlays=new Vf(Ef.comparator),this.es=new Map}return c(e,[{key:"getOverlay",value:function(e,t){return Pf.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Qd();return Pf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Pf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Pf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Qd(),i=t.length+1,a=new Ef(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Pf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Vf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Qd(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Qd(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Pf.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Wp(t,n));var a=this.es.get(t);void 0===a&&(a=Zd(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),av=function(){function e(){u(this,e),this.ns=new qf(ov.ss),this.rs=new qf(ov.os)}return c(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ov(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new ov(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Ef(new wf([])),r=new ov(n,e),i=new ov(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Ef(new wf([])),n=new ov(t,e),r=new ov(t,e+1),i=Zd();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ov(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ov=function(){function e(t,n){u(this,e),this.key=t,this._s=n}return c(e,null,[{key:"ss",value:function(e,t){return Ef.comparator(e.key,t.key)||mf(e._s,t._s)}},{key:"os",value:function(e,t){return mf(e._s,t._s)||Ef.comparator(e.key,t.key)}}]),e}(),sv=function(){function e(t,n){u(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new qf(ov.ss)}return c(e,[{key:"checkEmpty",value:function(e){return Pf.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new qp(i,t,n,r);this.mutationQueue.push(a);var o,s=Ue(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new ov(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Pf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Pf.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Pf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Pf.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Pf.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ov(t,0),i=new ov(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Pf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qf(mf);return t.forEach((function(e){var t=new ov(e,0),i=new ov(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Pf.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ef.isDocumentKey(i)||(i=i.child(""));var a=new ov(new Ef(i),0),o=new qf(mf);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Pf.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ef(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Pf.forEach(t.mutations,(function(i){var a=new ov(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ov(t,0),r=this.gs.firstAfterOrEqual(n);return Pf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Pf.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),uv=function(){function e(t){u(this,e),this.Es=t,this.docs=new Vf(Ef.comparator),this.size=0}return c(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Pf.resolve(n?n.document.mutableCopy():_h.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Hd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():_h.newInvalidDocument(e))})),Pf.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Hd(),i=new Ef(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Nf(If(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Pf.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Zc()}},{key:"As",value:function(e,t){return Pf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new lv(this)}},{key:"getSize",value:function(e){return Pf.resolve(this.size)}}]),e}(),lv=function(e){h(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).Yn=e,r}return c(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Pf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(ev),cv=function(){function e(t){u(this,e),this.persistence=t,this.Rs=new Bd((function(e){return Sh(e)}),Th),this.lastRemoteSnapshotVersion=kf.min(),this.highestTargetId=0,this.bs=0,this.Ps=new av,this.targetCount=0,this.vs=Zp.Pn()}return c(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Pf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Pf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Pf.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Pf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Pf.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Zp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Pf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Pf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Pf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Pf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Pf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Pf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Pf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Pf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Pf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Pf.resolve(n)}},{key:"containsKey",value:function(e,t){return Pf.resolve(this.Ps.containsKey(t))}}]),e}(),fv=function(){function e(t,n){var r=this;u(this,e),this.Vs={},this.overlays={},this.Ss=new Mf(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new cv(this),this.indexManager=new $p,this.remoteDocumentCache=new uv((function(e){return r.referenceDelegate.xs(e)})),this.It=new Gp(n),this.Ns=new rv(this.It)}return c(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new iv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new sv(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Xc("MemoryPersistence","Starting transaction:",e);var i=new hv(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Pf.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),hv=function(e){h(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return c(n)}(Af),dv=function(){function e(t){u(this,e),this.persistence=t,this.Fs=new av,this.$s=null}return c(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Zc()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Pf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Pf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Pf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pf.forEach(this.Ls,(function(r){var i=Ef.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,kf.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Pf.or([function(){return Pf.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var pv=function(){function e(t,n,r,i){u(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return c(e,null,[{key:"Ci",value:function(t,n){var r,i=Zd(),a=Zd(),o=Ue(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),vv=function(){function e(){u(this,e),this.xi=!1}return c(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Wh(t))return Pf.resolve(null);var r=$h(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Yh(t,null,"F"),r=$h(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Zd.apply(void 0,s(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Yh(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Wh(t)||r.isEqual(kf.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Qc()<=kt.DEBUG&&Xc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ed(t)),i.Bi(e,o,t,Tf(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new qf(rd(e));return t.forEach((function(t,r){td(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Qc()<=kt.DEBUG&&Xc("QueryEngine","Using full collection scan to execute query:",ed(t)),this.Ni.getDocumentsMatchingQuery(e,t,Cf.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),mv=function(){function e(t,n,r,i){u(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Vf(mf),this.qi=new Bd((function(e){return Sh(e)}),Th),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return c(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function yv(e,t,n,r){return new mv(e,t,n,r)}function gv(e,t){return kv.apply(this,arguments)}function kv(){return kv=ze(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Zd(),u=Ue(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=Ue(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Ue(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ue(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function bv(e,t){var n=tf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Pf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ef(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Zd(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function wv(e){var t=tf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function _v(e,t){var n=tf(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Kf.EMPTY_BYTE_STRING,kf.min()).withLastLimboFreeSnapshotVersion(kf.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Cs.updateTargetData(e,l))}}));var s=Hd(),u=Zd();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(xv(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(kf.min())){var l=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return Pf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function xv(e,t,n){var r=Zd(),i=Zd();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Hd();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(kf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Xc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Ev(e,t){var n=tf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Sv(e,t){var n=tf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Pf.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Kp(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Tv(e,t,n){return Iv.apply(this,arguments)}function Iv(){return Iv=ze(Fe().mark((function e(t,n,r){var i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tf(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Lf(e.t1)){e.next=12;break}throw e.t1;case 12:Xc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Iv.apply(this,arguments)}function Cv(e,t,n){var r=tf(e),i=kf.min(),a=Zd();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=tf(e),i=r.qi.get(n);return void 0!==i?Pf.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,$h(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:kf.min(),n?a:Zd())})).next((function(e){return Nv(r,nd(t),e),{documents:e,Hi:a}}))}))}function Nv(e,t,n){var r=e.Ki.get(t)||kf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var Rv=function(){function e(){u(this,e),this.activeTargetIds=tp()}return c(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Av=function(){function e(){u(this,e),this.Lr=new Rv,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return c(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Rv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Ov=function(){function e(){u(this,e)}return c(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Dv=function(){function e(){var t=this;u(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return c(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Xc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ue(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Xc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ue(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Pv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Lv=function(){function e(t){u(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return c(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Mv=function(e){h(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return c(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new qc;o.setWithCredentials(!0),o.listenOnce(Uc.COMPLETE,(function(){var t;try{switch(o.getLastErrorCode()){case jc.NO_ERROR:var n=o.getResponseJson();Xc("Connection","XHR received:",JSON.stringify(n)),i(n);break;case jc.TIMEOUT:Xc("Connection",'RPC "'+e+'" timed out'),a(new rf(nf.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:var r=o.getStatus();if(Xc("Connection",'RPC "'+e+'" failed with status:',r,"response text:",o.getResponseText()),r>0){var s=o.getResponseJson();Array.isArray(s)&&(s=s[0]);var u=null===(t=s)||void 0===t?void 0:t.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(nf).indexOf(t)>=0?t:nf.UNKNOWN}(u.status);a(new rf(l,u.message))}else a(new rf(nf.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new rf(nf.UNAVAILABLE,"Connection failed."));break;default:Zc()}}finally{Xc("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Lc(),a=Mc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new zc({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Xc("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,f=new Lv({Hr:function(e){c?Xc("Connection","Not sending because WebChannel is closed:",e):(l||(Xc("Connection","Opening WebChannel transport."),u.open(),l=!0),Xc("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Bc.EventType.OPEN,(function(){c||Xc("Connection","WebChannel transport opened.")})),h(u,Bc.EventType.CLOSE,(function(){c||(c=!0,Xc("Connection","WebChannel transport closed"),f.io())})),h(u,Bc.EventType.ERROR,(function(e){c||(c=!0,Yc("Connection","WebChannel transport errored:",e),f.io(new rf(nf.UNAVAILABLE,"The operation could not be completed")))})),h(u,Bc.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];ef(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Xc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ld[e];if(void 0!==t)return zd(t)}(a),s=i.message;void 0===o&&(o=nf.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,f.io(new rf(o,s)),u.close()}else Xc("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Fc.STAT_EVENT,(function(e){e.stat===Vc.PROXY?Xc("Connection","Detected buffering proxy"):e.stat===Vc.NOPROXY&&Xc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){u(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return c(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Xc("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Xc("RestConnection","Received: ",e),e}),(function(t){throw Yc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Pv[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function jv(){return"undefined"!=typeof document?document:null}function Uv(e){return new dp(e,!0)}var Fv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;u(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return c(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Xc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Vv=function(){function e(t,n,r,i,a,o,s,l){u(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Fv(t,n)}return c(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===nf.RESOURCE_EXHAUSTED?($c(n.toString()),$c("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===nf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=k(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new rf(nf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(ze(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Xc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Xc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),zv=function(e){h(n,e);var t=g(n);function n(e,r,i,a,o,s){var l;return u(this,n),(l=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,l}return c(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(ef(void 0===t||"string"==typeof t),Kf.fromBase64String(t||"")):(ef(void 0===t||t instanceof Uint8Array),Kf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?nf.UNKNOWN:zd(e.code);return new rf(t,e.message||"")}(o);n=new op(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=wp(e,u.document.name),c=yp(u.document.updateTime),f=new bh({mapValue:{fields:u.document.fields}}),h=_h.newFoundDocument(l,c,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new ip(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=wp(e,v.document),y=v.readTime?yp(v.readTime):kf.min(),g=_h.newNoDocument(m,y),k=v.removedTargetIds||[];n=new ip([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=wp(e,b.document),_=b.removedTargetIds||[];n=new ip([],_,w,null)}else{if(!("filter"in t))return Zc();t.filter;var x=t.filter;x.targetId;var E=x.count||0,S=new Fd(E),T=x.targetId;n=new ap(T,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return kf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?kf.min():t.readTime?yp(t.readTime):kf.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Ep(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Ih(r)?{documents:Cp(e,r)}:{query:Np(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=vp(e,t.resumeToken):t.snapshotVersion.compareTo(kf.min())>0&&(n.readTime=pp(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Ep(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Vv),Bv=function(e){h(n,e);var t=g(n);function n(e,r,i,a,o,s){var l;return u(this,n),(l=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,l.Jo=!1,l}return c(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,je(d(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ef(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(ef(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?yp(e.updateTime):yp(t);return n.isEqual(kf.min())&&(n=yp(t)),new wd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=yp(e.commitTime);return this.listener.Zo(n,t)}return ef(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Ep(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ip(t.It,e)}))};this.Bo(n)}}]),n}(Vv),qv=function(e){h(n,e);var t=g(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return c(n,[{key:"su",value:function(){if(this.nu)throw new rf(nf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=k(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new rf(nf.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=k(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nf.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new rf(nf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return c((function e(){u(this,e)}))}());var Hv=function(){function e(t,n){u(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return c(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?($c(t),this.ou=!1):Xc("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Wv=c((function e(t,n,r,i,a){var o=this;u(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=nm(o),!e.t0){e.next=5;break}return Xc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=tf(t))._u.add(4),e.next=4,Qv(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Kv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Hv(r,i)}));function Kv(e){return Gv.apply(this,arguments)}function Gv(){return Gv=ze(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nm(t)){e.next=18;break}n=Ue(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Gv.apply(this,arguments)}function Qv(e){return Xv.apply(this,arguments)}function Xv(){return Xv=ze(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ue(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Xv.apply(this,arguments)}function $v(e,t){var n=tf(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),tm(n)?em(n):Am(n).ko()&&Jv(n,t))}function Yv(e,t){var n=tf(e),r=Am(n);n.du.delete(t),r.ko()&&Zv(n,t),0===n.du.size&&(r.ko()?r.Fo():nm(n)&&n.gu.set("Unknown"))}function Jv(e,t){e.yu.Mt(t.targetId),Am(e).zo(t)}function Zv(e,t){e.yu.Mt(t),Am(e).Ho(t)}function em(e){e.yu=new up({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),Am(e).start(),e.gu.uu()}function tm(e){return nm(e)&&!Am(e).No()&&e.du.size>0}function nm(e){return 0===tf(e)._u.size}function rm(e){e.yu=void 0}function im(e){return am.apply(this,arguments)}function am(){return am=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Jv(t,e)}));case 1:case"end":return e.stop()}}),e)}))),am.apply(this,arguments)}function om(e,t){return sm.apply(this,arguments)}function sm(){return sm=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rm(t),tm(t)?(t.gu.hu(n),em(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}function um(e,t,n){return lm.apply(this,arguments)}function lm(){return lm=ze(Fe().mark((function e(t,n,r){var i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof op&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ze(Fe().mark((function e(t,n){var r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ue(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Xc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,cm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ip?t.yu.Gt(n):n instanceof ap?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(kf.min())){e.next=29;break}return e.prev=14,e.next=17,wv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Kf.EMPTY_BYTE_STRING,n.snapshotVersion)),Zv(e,t);var r=new Kp(n.target,t,1,n.sequenceNumber);Jv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Xc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,cm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),lm.apply(this,arguments)}function cm(e,t,n){return fm.apply(this,arguments)}function fm(){return fm=ze(Fe().mark((function e(t,n,r){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lf(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Qv(t);case 5:t.gu.set("Offline"),r||(r=function(){return wv(t.localStore)}),t.asyncQueue.enqueueRetryable(ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Kv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function hm(e,t){return t().catch((function(n){return cm(e,n,t)}))}function dm(e){return pm.apply(this,arguments)}function pm(){return pm=ze(Fe().mark((function e(t){var n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tf(t),r=Om(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!vm(n)){e.next=19;break}return e.prev=3,e.next=6,Ev(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,mm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,cm(n,e.t0);case 17:e.next=2;break;case 19:ym(n)&&gm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),pm.apply(this,arguments)}function vm(e){return nm(e)&&e.fu.length<10}function mm(e,t){e.fu.push(t);var n=Om(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function ym(e){return nm(e)&&!Om(e).No()&&e.fu.length>0}function gm(e){Om(e).start()}function km(e){return bm.apply(this,arguments)}function bm(){return bm=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Om(t).eu();case 1:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e){return _m.apply(this,arguments)}function _m(){return _m=ze(Fe().mark((function e(t){var n,r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Om(t),r=Ue(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function xm(e,t,n){return Em.apply(this,arguments)}function Em(){return Em=ze(Fe().mark((function e(t,n,r){var i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Hp.from(i,n,r),e.next=3,hm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,dm(t);case 5:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}function Sm(e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=ze(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Om(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ze(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Vd(i=n.code)||i===nf.ABORTED){e.next=7;break}return r=t.fu.shift(),Om(t).Mo(),e.next=5,hm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,dm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ym(t)&&gm(t);case 5:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}function Im(e,t){return Cm.apply(this,arguments)}function Cm(){return Cm=ze(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=tf(t)).asyncQueue.verifyOperationInProgress(),Xc("RemoteStore","RemoteStore received new credentials"),i=nm(r),r._u.add(3),e.next=6,Qv(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Kv(r);case 12:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Nm(e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=ze(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tf(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Kv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Qv(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}function Am(e){return e.pu||(e.pu=function(e,t,n){var r=tf(e);return r.su(),new zv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:im.bind(null,e),Zr:om.bind(null,e),Wo:um.bind(null,e)}),e.wu.push(function(){var t=ze(Fe().mark((function t(n){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),tm(e)?em(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:rm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Om(e){return e.Iu||(e.Iu=function(e,t,n){var r=tf(e);return r.su(),new Bv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:km.bind(null,e),Zr:Sm.bind(null,e),tu:wm.bind(null,e),Zo:xm.bind(null,e)}),e.wu.push(function(){var t=ze(Fe().mark((function t(n){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,dm(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Xc("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Dm=function(){function e(t,n,r,i,a){u(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new af,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return c(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rf(nf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Pm(e,t){if($c("AsyncQueue","".concat(t,": ").concat(e)),Lf(e))return new rf(nf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Lm=function(){function e(t){u(this,e),this.comparator=t?function(e,n){return t(e,n)||Ef.comparator(e.key,n.key)}:function(e,t){return Ef.comparator(e.key,t.key)},this.keyedMap=Kd(),this.sortedSet=new Vf(this.comparator)}return c(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Mm=function(){function e(){u(this,e),this.Tu=new Vf(Ef.comparator)}return c(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Zc():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),jm=function(){function e(t,n,r,i,a,o,s,l,c){u(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}return c(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Lm.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Um=c((function e(){u(this,e),this.Au=void 0,this.listeners=[]})),Fm=c((function e(){u(this,e),this.queries=new Bd((function(e){return Zh(e)}),Jh),this.onlineState="Unknown",this.Ru=new Set}));function Vm(e,t){return zm.apply(this,arguments)}function zm(){return zm=ze(Fe().mark((function e(t,n){var r,i,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Um),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Pm(e.t0,"Initialization of query '".concat(ed(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Km(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),zm.apply(this,arguments)}function Bm(e,t){return qm.apply(this,arguments)}function qm(){return qm=ze(Fe().mark((function e(t,n){var r,i,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}function Hm(e,t){var n,r=tf(e),i=!1,a=Ue(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=Ue(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Pu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&Km(r)}function Wm(e,t,n){var r=tf(e),i=r.queries.get(t);if(i){var a,o=Ue(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Km(e){e.Ru.forEach((function(e){e.next()}))}var Gm=function(){function e(t,n,r){u(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return c(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ue(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new jm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=jm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}();var Qm=c((function e(t){u(this,e),this.key=t})),Xm=c((function e(t){u(this,e),this.key=t})),$m=function(){function e(t,n){u(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Zd(),this.mutatedKeys=Zd(),this.Gu=rd(t),this.Qu=new Lm(this.Gu)}return c(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Mm,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=td(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||l&&n.Gu(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zc()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new jm(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Mm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Zd(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Xm(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Qm(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Zd();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return jm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),Ym=c((function e(t,n,r){u(this,e),this.query=t,this.targetId=n,this.view=r})),Jm=c((function e(t){u(this,e),this.key=t,this.nc=!1})),Zm=function(){function e(t,n,r,i,a,o){u(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Bd((function(e){return Zh(e)}),Jh),this.rc=new Map,this.oc=new Set,this.uc=new Vf(Ef.comparator),this.cc=new Map,this.ac=new av,this.hc={},this.lc=new Map,this.fc=Zp.vn(),this.onlineState="Unknown",this.dc=void 0}return c(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=ze(Fe().mark((function e(t,n){var r,i,a,o,s,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ny(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Sv(r.localStore,$h(n));case 8:return s=e.sent,r.isPrimaryClient&&$v(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,ny(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t,n,r,i){return ry.apply(this,arguments)}function ry(){return ry=ze(Fe().mark((function e(t,n,r,i,a){var o,s,u,l,c,f;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=ze(Fe().mark((function e(t,n,r,i){var a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Cv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(wy(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Cv(t.localStore,n,!0);case 3:return o=e.sent,s=new $m(n,o.Hi),u=s.Wu(o.documents),l=rp.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=s.applyChanges(u,t.isPrimaryClient,l),wy(t,r,c.Xu),f=new Ym(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(e,t){return ay.apply(this,arguments)}function ay(){return ay=ze(Fe().mark((function e(t,n){var r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tf(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Jh(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Tv(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Yv(r.remoteStore,i.targetId),ky(r,i.targetId)})).catch(Of);case 9:e.next=14;break;case 11:return ky(r,i.targetId),e.next=14,Tv(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function oy(e,t,n){return sy.apply(this,arguments)}function sy(){return sy=ze(Fe().mark((function e(t,n,r){var i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ry(t),e.prev=1,e.next=4,function(e,t){var n,r,i=tf(e),a=gf.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Zd());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Hd(),u=Zd();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Ue(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=Cd(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new Ad(l.key,c,wh(c.value.mapValue),_d.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Gd(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Vf(mf)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ey(i,a.changes);case 9:return e.next=11,dm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Pm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),sy.apply(this,arguments)}function uy(e,t){return ly.apply(this,arguments)}function ly(){return ly=ze(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tf(t),e.prev=1,e.next=4,_v(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(ef(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?ef(n.nc):e.removedDocuments.size>0&&(ef(n.nc),n.nc=!1))})),e.next=8,Ey(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Of(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ly.apply(this,arguments)}function cy(e,t,n){var r=tf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=tf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ue(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Km(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fy(e,t,n){return hy.apply(this,arguments)}function hy(){return hy=ze(Fe().mark((function e(t,n,r){var i,a,o,s,u,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=tf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Vf(Ef.comparator)).insert(o,_h.newNoDocument(o,kf.min())),u=Zd().add(o),l=new np(kf.min(),new Map,new qf(mf),s,u),e.next=9,uy(i,l);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),xy(i),e.next=16;break;case 14:return e.next=16,Tv(i.localStore,n,!1).then((function(){return ky(i,n,r)})).catch(Of);case 16:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}function dy(e,t){return py.apply(this,arguments)}function py(){return py=ze(Fe().mark((function e(t,n){var r,i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tf(t),i=n.batch.batchId,e.prev=1,e.next=4,bv(r.localStore,n);case 4:return a=e.sent,gy(r,i,null),yy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ey(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Of(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),py.apply(this,arguments)}function vy(e,t,n){return my.apply(this,arguments)}function my(){return my=ze(Fe().mark((function e(t,n,r){var i,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tf(t),e.prev=1,e.next=4,function(e,t){var n=tf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ef(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,gy(i,n,r),yy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ey(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Of(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),my.apply(this,arguments)}function yy(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function gy(e,t,n){var r=tf(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function ky(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ue(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||by(e,t)}))}function by(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Yv(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),xy(e))}function wy(e,t,n){var r,i=Ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Qm?(e.ac.addReference(a.key,t),_y(e,a)):a instanceof Xm?(Xc("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||by(e,a.key)):Zc()}}catch(o){i.e(o)}finally{i.f()}}function _y(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Xc("SyncEngine","New document in limbo: "+n),e.oc.add(r),xy(e))}function xy(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Ef(wf.fromString(t)),r=e.fc.next();e.cc.set(r,new Jm(n)),e.uc=e.uc.insert(n,r),$v(e.remoteStore,new Kp($h(Hh(n.path)),r,2,Mf.at))}}function Ey(e,t,n){return Sy.apply(this,arguments)}function Sy(){return Sy=ze(Fe().mark((function e(t,n,r){var i,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tf(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=pv.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=ze(Fe().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Pf.forEach(n,(function(t){return Pf.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Pf.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Lf(e.t0)){e.next=10;break}throw e.t0;case 10:Xc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ue(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ui.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.Ui=r.Ui.insert(s,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function Ty(e,t){return Iy.apply(this,arguments)}function Iy(){return Iy=ze(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=tf(t)).currentUser.isEqual(n)){e.next=11;break}return Xc("SyncEngine","User change. New user:",n.toKey()),e.next=5,gv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new rf(nf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ey(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Iy.apply(this,arguments)}function Cy(e,t){var n=tf(e),r=n.cc.get(t);if(r&&r.nc)return Zd().add(r.key);var i=Zd(),a=n.rc.get(t);if(!a)return i;var o,s=Ue(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.ic.get(u);i=i.unionWith(l.view.ju)}}catch(c){s.e(c)}finally{s.f()}return i}function Ny(e){var t=tf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fy.bind(null,t),t.sc.Wo=Hm.bind(null,t.eventManager),t.sc.wc=Wm.bind(null,t.eventManager),t}function Ry(e){var t=tf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vy.bind(null,t),t}var Ay=function(){function e(){u(this,e),this.synchronizeTabs=!1}return c(e,[{key:"initialize",value:function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=Uv(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return yv(this.persistence,new vv,e.initialUser,this.It)}},{key:"yc",value:function(e){return new fv(dv.Bs,this.It)}},{key:"gc",value:function(e){return new Av}},{key:"terminate",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Oy=function(){function e(){u(this,e)}return c(e,[{key:"initialize",value:function(){var e=ze(Fe().mark((function e(t,n){var r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return cy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ty.bind(null,this.syncEngine),e.next=12,Nm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Fm}},{key:"createDatastore",value:function(e){var t,n=Uv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Mv(t));return function(e,t,n,r){return new qv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return cy(o.syncEngine,e,0)},a=Dv.C()?new Dv:new Ov,new Wv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Zm(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ze(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tf(t),Xc("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Qv(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Dy(e,t,n){if(!n)throw new rf(nf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Py(e){if(!Ef.isDocumentKey(e))throw new rf(nf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ly(e){if(Ef.isDocumentKey(e))throw new rf(nf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function My(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Zc()}function jy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rf(nf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=My(e);throw new rf(nf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Uy=new Map,Fy=function(){function e(t){var n;if(u(this,e),void 0===t.host){if(void 0!==t.ssl)throw new rf(nf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rf(nf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new rf(nf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return c(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Vy=function(){function e(t,n,r,i){u(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1}return c(e,[{key:"app",get:function(){if(!this._app)throw new rf(nf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new rf(nf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sf;switch(e.type){case"gapi":var t=e.client;return new ff(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rf(nf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Uy.get(e);t&&(Xc("ComponentProvider","Removing Datastore"),Uy.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function zy(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=jy(e,Vy))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Yc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Wc.MOCK_USER;else{o=nt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new rf(nf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Wc(u)}e._authCredentials=new uf(new of(o,s))}}var By=function(){function e(t,n,r){u(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return c(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Hy(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),qy=function(){function e(t,n,r){u(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return c(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Hy=function(e){h(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,Hh(i)))._path=i,a.type="collection",a}return c(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new By(this.firestore,null,new Ef(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(qy);function Wy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pt(e),Dy("collection","path",t),e instanceof Vy){var a=wf.fromString.apply(wf,[t].concat(r));return Ly(a),new Hy(e,null,a)}if(!(e instanceof By||e instanceof Hy))throw new rf(nf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(wf.fromString.apply(wf,[t].concat(r)));return Ly(o),new Hy(e.firestore,null,o)}function Ky(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pt(e),1===arguments.length&&(t=vf.R()),Dy("doc","path",t),e instanceof Vy){var a=wf.fromString.apply(wf,[t].concat(r));return Py(a),new By(e,null,new Ef(a))}if(!(e instanceof By||e instanceof Hy))throw new rf(nf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(wf.fromString.apply(wf,[t].concat(r)));return Py(o),new By(e.firestore,e instanceof Hy?e.converter:null,new Ef(o))}var Gy=function(){function e(t){u(this,e),this.observer=t,this.muted=!1}return c(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):$c("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Qy=function(){function e(t,n,r,i){var a=this;u(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wc.UNAUTHENTICATED,this.clientId=vf.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Xc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return c(e,[{key:"getConfiguration",value:function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new rf(nf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new af;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ze(Fe().mark((function n(){var r;return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Pm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Xy(e,t){return $y.apply(this,arguments)}function $y(){return $y=ze(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Xc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,gv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function Yy(e,t){return Jy.apply(this,arguments)}function Jy(){return Jy=ze(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Zy(t);case 3:return r=e.sent,Xc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Im(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Im(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Zy(e){return eg.apply(this,arguments)}function eg(){return eg=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Xc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Xy(t,new Ay);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}function tg(e){return ng.apply(this,arguments)}function ng(){return ng=ze(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Xc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Yy(t,new Oy);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e){return tg(e).then((function(e){return e.syncEngine}))}function ig(e){return ag.apply(this,arguments)}function ag(){return ag=ze(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ey.bind(null,n.syncEngine),r.onUnlisten=iy.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ag.apply(this,arguments)}function og(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new af;return e.asyncQueue.enqueueAndForget(ze(Fe().mark((function i(){return Fe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Gy({next:function(a){t.enqueueAndForget((function(){return Bm(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new rf(nf.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new rf(nf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Gm(Hh(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Vm(e,o)},i.next=3,ig(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var sg=function(){function e(){var t=this;u(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Fv(this,"async_queue_retry"),this.Wc=function(){var e=jv();e&&Xc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=jv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return c(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=jv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new af;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=ze(Fe().mark((function e(){var t=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Lf(e.t0)){e.next=12;break}throw e.t0;case 12:Xc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw $c("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Dm.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&Zc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Ue(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ue(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function ug(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ue(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var lg=function(e){h(n,e);var t=g(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new sg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return c(n,[{key:"_terminate",value:function(){return this._firestoreClient||fg(this),this._firestoreClient.terminate()}}]),n}(Vy);function cg(e){return e._firestoreClient||fg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fg(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new eh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Qy(e._authCredentials,e._appCheckCredentials,e._queue,r)}var hg=function(){function e(t){u(this,e),this._byteString=t}return c(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Kf.fromBase64String(t))}catch(t){throw new rf(nf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Kf.fromUint8Array(t))}}]),e}(),dg=function(){function e(){u(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new rf(nf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xf(n)}return c(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pg=c((function e(t){u(this,e),this._methodName=t})),vg=function(){function e(t,n){if(u(this,e),!isFinite(t)||t<-90||t>90)throw new rf(nf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rf(nf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return c(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return mf(this._lat,e._lat)||mf(this._long,e._long)}}]),e}(),mg=/^__.*__$/,yg=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return c(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ad(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rd(e,this.data,t,this.fieldTransforms)}}]),e}(),gg=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return c(e,[{key:"toMutation",value:function(e,t){return new Ad(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function kg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zc()}}var bg=function(){function e(t,n,r,i,a,o){u(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return c(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return Ug(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(kg(this.sa)&&mg.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),wg=function(){function e(t,n,r){u(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||Uv(t)}return c(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bg({sa:e,methodName:t,fa:n,path:xf.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function _g(e){var t=e._freezeSettings(),n=Uv(e._databaseId);return new wg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);Pg("Data must be an object, but it was:",o,r);var s,u,l=Og(r,o);if(a.merge)s=new Wf(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=Ue(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=Lg(t,d,n);if(!o.contains(p))throw new rf(nf.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Fg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Wf(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new yg(new bh(l),s,u)}var Eg=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pg);function Sg(e,t,n){return new bg({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var Tg=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"_toFieldTransform",value:function(e){return new bd(e.path,new hd)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pg),Ig=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e))._a=r,i}return c(n,[{key:"_toFieldTransform",value:function(e){var t=Sg(this,e,!0),n=this._a.map((function(e){return Ag(e,t)})),r=new dd(n);return new bd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pg),Cg=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e))._a=r,i}return c(n,[{key:"_toFieldTransform",value:function(e){var t=Sg(this,e,!0),n=this._a.map((function(e){return Ag(e,t)})),r=new vd(n);return new bd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pg);function Ng(e,t,n,r){var i=e.da(1,t,n);Pg("Data must be an object, but it was:",i,r);var a=[],o=bh.empty();Uf(r,(function(e,r){var s=jg(t,e,n);r=pt(r);var u=i.ca(s);if(r instanceof Eg)a.push(s);else{var l=Ag(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new Wf(a);return new gg(o,s,i.fieldTransforms)}function Rg(e,t,n,r,i,a){var o=e.da(1,t,n),s=[Lg(t,r,n)],u=[i];if(a.length%2!=0)throw new rf(nf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(Lg(t,a[l])),u.push(a[l+1]);for(var c=[],f=bh.empty(),h=s.length-1;h>=0;--h)if(!Fg(c,s[h])){var d=s[h],p=u[h];p=pt(p);var v=o.ca(d);if(p instanceof Eg)c.push(d);else{var m=Ag(p,v);null!=m&&(c.push(d),f.set(d,m))}}var y=new Wf(c);return new gg(f,y,o.fieldTransforms)}function Ag(e,t){if(Dg(e=pt(e)))return Pg("Unsupported field value:",t,e),Og(e,t);if(e instanceof pg)return function(e,t){if(!kg(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ue(e);try{for(a.s();!(n=a.n()).done;){var o=Ag(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=pt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sd(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gf.fromDate(e);return{timestampValue:pp(t.It,n)}}if(e instanceof gf){var r=new gf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pp(t.It,r)}}if(e instanceof vg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hg)return{bytesValue:vp(t.It,e._byteString)};if(e instanceof By){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:gp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(My(e)))}(e,t)}function Og(e,t){var n={};return Ff(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uf(e,(function(e,r){var i=Ag(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Dg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gf||e instanceof vg||e instanceof hg||e instanceof By||e instanceof pg)}function Pg(e,t,n){if(!Dg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=My(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function Lg(e,t,n){if((t=pt(t))instanceof dg)return t._internalPath;if("string"==typeof t)return jg(e,t);throw Ug("Field path arguments must be of type string or ",e,!1,void 0,n)}var Mg=new RegExp("[~\\*/\\[\\]]");function jg(e,t,n){if(t.search(Mg)>=0)throw Ug("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return b(dg,s(t.split(".")))._internalPath}catch(r){throw Ug("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ug(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new rf(nf.INVALID_ARGUMENT,s+e+u)}function Fg(e,t){return e.some((function(e){return e.isEqual(t)}))}var Vg=function(){function e(t,n,r,i,a){u(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return c(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new By(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new zg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),zg=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"data",value:function(){return je(d(n.prototype),"data",this).call(this)}}]),n}(Vg);function Bg(e,t){return"string"==typeof t?jg(e,t):t instanceof dg?t._internalPath:t._delegate._internalPath}function qg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rf(nf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hg=c((function e(){u(this,e)}));function Wg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Kg=function(e){h(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return c(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new rf(nf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rf(nf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Uh(t,n);return function(e,t){if(null===Kh(e)){var n=Gh(e);null!==n&&Qg(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new qy(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Bh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Hg);function Gg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Bg("orderBy",e);return new Kg(r,n)}function Qg(e,t,n){if(!n.isEqual(t))throw new rf(nf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Xg=function(){function e(){u(this,e)}return c(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(oh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($f(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Uf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new vg(Xf(e.latitude),Xf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Jf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zf(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Qf(e);return new gf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=wf.fromString(e);ef(Fp(n));var r=new th(n.get(1),n.get(3)),i=new Ef(n.popFirst(5));return r.isEqual(t)||$c("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function $g(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Yg=function(){function e(t,n){u(this,e),this.hasPendingWrites=t,this.fromCache=n}return c(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Jg=function(e){h(n,e);var t=g(n);function n(e,r,i,a,o,s){var l;return u(this,n),(l=t.call(this,e,r,i,a,s))._firestore=e,l._firestoreImpl=e,l.metadata=o,l}return c(n,[{key:"exists",value:function(){return je(d(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Vg),Zg=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return je(d(n.prototype),"data",this).call(this,e)}}]),n}(Jg),ek=function(){function e(t,n,r,i){u(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yg(i.hasPendingWrites,i.fromCache),this.query=r}return c(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Zg(n._firestore,n._userDataWriter,r.key,r,new Yg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rf(nf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Zg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Zg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:tk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function tk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zc()}}function nk(e){e=jy(e,By);var t=jy(e.firestore,lg);return og(cg(t),e._key).then((function(n){return ck(t,e,n)}))}var rk=function(e){h(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return c(n,[{key:"convertBytes",value:function(e){return new hg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new By(this.firestore,null,t)}}]),n}(Xg);function ik(e,t,n){e=jy(e,By);var r=jy(e.firestore,lg),i=$g(e.converter,t,n);return lk(r,[xg(_g(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_d.none())])}function ak(e,t,n){e=jy(e,By);for(var r=jy(e.firestore,lg),i=_g(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return lk(r,[("string"==typeof(t=pt(t))||t instanceof dg?Rg(i,"updateDoc",e._key,t,n,o):Ng(i,"updateDoc",e._key,t)).toMutation(e._key,_d.exists(!0))])}function ok(e){return lk(jy(e.firestore,lg),[new jd(e._key,_d.none())])}function sk(e,t){var n=jy(e.firestore,lg),r=Ky(e),i=$g(e.converter,t);return lk(n,[xg(_g(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_d.exists(!1))]).then((function(){return r}))}function uk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=pt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||ug(n[u])||(s=n[u],u++);var l,c,f,h={includeMetadataChanges:s.includeMetadataChanges};if(ug(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof By)c=jy(e.firestore,lg),f=Hh(e._key.path),l={next:function(t){n[u]&&n[u](ck(c,e,t))},error:n[u+1],complete:n[u+2]};else{var p=jy(e,qy);c=jy(p.firestore,lg),f=p._query;var v=new rk(c);l={next:function(e){n[u]&&n[u](new ek(c,v,p,e))},error:n[u+1],complete:n[u+2]},qg(e._query)}return function(e,t,n,r){var i=new Gy(r),a=new Gm(t,i,n);return e.asyncQueue.enqueueAndForget(ze(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Vm,t.next=3,ig(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(ze(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bm,t.next=3,ig(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(cg(c),f,h,l)}function lk(e,t){return function(e,t){var n=new af;return e.asyncQueue.enqueueAndForget(ze(Fe().mark((function r(){return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=oy,r.next=3,rg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(cg(e),t)}function ck(e,t,n){var r=n.docs.get(t._key),i=new rk(e);return new Jg(e,i,t._key,r,new Yg(n.hasPendingWrites,n.fromCache),t.converter)}function fk(){return new Tg("serverTimestamp")}function hk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ig("arrayUnion",t)}function dk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cg("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Kc="9.14.0",nn(new vt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new lg(new lf(e.getProvider("auth-internal")),new df(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rf(nf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new th(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),fn(Hc,"3.7.3",e),fn(Hc,"3.7.3","esm2017")}();var pk="firebasestorage.googleapis.com",vk=function(e){h(n,e);var t=g(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return u(this,n),(i=t.call(this,mk(e),"Firebase Storage: ".concat(r," (").concat(mk(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(m(i),n.prototype),i}return c(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return mk(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(rt);function mk(e){return"storage/"+e}function yk(){return new vk("unknown","An unknown error occurred, please check the error payload for server response.")}function gk(){return new vk("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function kk(){return new vk("canceled","User canceled the upload/download.")}function bk(){return new vk("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function wk(e){return new vk("invalid-argument",e)}function _k(){return new vk("app-deleted","The Firebase app was deleted.")}function xk(e,t){return new vk("invalid-format","String does not match format '"+e+"': "+t)}function Ek(e){throw new vk("internal-error","Internal error: "+e)}var Sk,Tk=function(){function e(t,n){u(this,e),this.bucket=t,this.path_=n}return c(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new vk("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===pk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new vk("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Ik=function(){function e(t){u(this,e),this.promise_=Promise.reject(t)}return c(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Ck(e){return"string"===typeof e||e instanceof String}function Nk(e){return Rk()&&e instanceof Blob}function Rk(){return"undefined"!==typeof Blob&&!Qe()}function Ak(e,t,n,r){if(r<t)throw wk("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw wk("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Ok(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Dk(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Pk(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Sk||(Sk={}));var Lk=function(){function e(t,n,r,i,a,o,s,l,c,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];u(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return c(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=yk();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?_k():kk());else i(gk())}};this.canceled_?t(0,new Mk(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),l||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Mk(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Sk.NO_ERROR,a=r.getStatus();if(n&&!Pk(a,e.additionalRetryCodes_)||!e.retry){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Mk(o,r))}else{var s=r.getErrorCode()===Sk.ABORT;t(!1,new Mk(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Mk=c((function e(t,n,r){u(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function jk(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function Uk(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function Fk(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Vk(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function zk(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=Dk(e.urlParams),u=e.url+s,l=Object.assign({},e.headers);return Fk(l,t),jk(l,n),Uk(l,a),Vk(l,r),new Lk(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function Bk(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function qk(){for(var e=Bk(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Rk())return new Blob(n);throw new vk("unsupported-environment","This browser doesn't seem to support creating Blobs")}function Hk(e){if("undefined"===typeof atob)throw new vk("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var Wk="raw",Kk="base64",Gk="base64url",Qk="data_url",Xk=c((function e(t,n){u(this,e),this.data=t,this.contentType=n||null}));function $k(e,t){switch(e){case Wk:return new Xk(Yk(t));case Kk:case Gk:return new Xk(Jk(e,t));case Qk:return new Xk(function(e){var t=new Zk(e);return t.base64?Jk(Kk,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw xk(Qk,"Malformed data URL.")}return Yk(t)}(t.rest)}(t),new Zk(t).contentType)}throw yk()}function Yk(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Jk(e,t){switch(e){case Kk:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw xk(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Gk:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw xk(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=Hk(t)}catch(l){if(l.message.includes("polyfill"))throw l;throw xk(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Zk=c((function e(t){u(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw xk(Qk,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var eb=function(){function e(t,n){u(this,e);var r=0,i="";Nk(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return c(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Nk(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Rk()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(qk.apply(null,i))}var a=n.map((function(e){return Ck(e)?$k(Wk,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function tb(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function nb(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rb(e,t){return t}var ib=c((function e(t,n,r,i){u(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||rb})),ab=null;function ob(){if(ab)return ab;var e=[];e.push(new ib("bucket")),e.push(new ib("generation")),e.push(new ib("metageneration")),e.push(new ib("name","fullPath",!0));var t=new ib("name");t.xform=function(e,t){return function(e){return!Ck(e)||e.length<2?e:nb(e)}(t)},e.push(t);var n=new ib("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ib("timeCreated")),e.push(new ib("updated")),e.push(new ib("md5Hash",null,!0)),e.push(new ib("cacheControl",null,!0)),e.push(new ib("contentDisposition",null,!0)),e.push(new ib("contentEncoding",null,!0)),e.push(new ib("contentLanguage",null,!0)),e.push(new ib("contentType",null,!0)),e.push(new ib("metadata","customMetadata",!0)),ab=e}function sb(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Tk(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ub(e,t,n){var r=tb(t);return null===r?null:sb(e,r,n)}function lb(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var cb=c((function e(t,n,r,i){u(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function fb(e){if(!e)throw yk()}function hb(e,t){return function(n,r){var i=ub(e,r,t);return fb(null!==i),i}}function db(e,t){return function(n,r){var i=ub(e,r,t);return fb(null!==i),function(e,t,n,r){var i=tb(t);if(null===i)return null;if(!Ck(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Ok("/b/"+o(i)+"/o/"+o(a),n,r)+Dk({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function pb(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new vk("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new vk("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new vk("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new vk("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function vb(e){var t=pb(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new vk("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function mb(e,t,n){var r=Ok(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new cb(r,"GET",hb(e,n),i);return a.errorHandler=vb(t),a}function yb(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function gb(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=yb(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lb(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=eb.getBlob(l,r,c);if(null===f)throw bk();var h={name:u.fullPath},d=Ok(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new cb(d,"POST",hb(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=pb(t),v}var kb=c((function e(t,n,r,i){u(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function bb(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){fb(!1)}return fb(!!n&&-1!==(t||["active"]).indexOf(n)),n}var wb=262144;function _b(e,t,n,r,i,a,o,s){var u=new kb(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new vk("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d={"X-Goog-Upload-Command":0===c?"finalize":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw bk();var v=t.maxUploadRetryTime,m=new cb(n,"POST",(function(e,n){var i,o=bb(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===o?hb(t,a)(e,n):null,new kb(s,l,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=pb(e),m}var xb="running",Eb="paused",Sb="success",Tb="canceled",Ib="error";function Cb(e){switch(e){case"running":case"pausing":case"canceling":return xb;case"paused":return Eb;case"success":return Sb;case"canceled":return Tb;default:return Ib}}var Nb=c((function e(t,n,r){u(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Rb(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Ab=function(){function e(){var t=this;u(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sk.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Sk.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Sk.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return c(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Ek("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ek("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ek("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ek("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ek("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Ob=function(e){h(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Ab);function Db(){return new Ob}var Pb=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=ob(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(Pk(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=gk()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return c(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=k(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=yb(t,r,i),s={name:o.fullPath},u=Ok(a,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=lb(o,n),f=e.maxUploadRetryTime,h=new cb(u,"POST",(function(e){var t;bb(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){fb(!1)}return fb(Ck(t)),t}),f);return h.urlParams=s,h.headers=l,h.body=c,h.errorHandler=pb(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Db,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new cb(n,"POST",(function(e){var t=bb(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){fb(!1)}n||fb(!1);var i=Number(n);return fb(!isNaN(i)),new kb(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=pb(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Db,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=wb*this._chunkMultiplier,n=new kb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=_b(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,Db,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(wb*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=mb(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Db,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=gb(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Db,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=kk(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Cb(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Nb(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Cb(this._state)){case Sb:Rb(this._resolve.bind(null,this.snapshot))();break;case Tb:case Ib:Rb(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Cb(this._state)){case xb:case Eb:e.next&&Rb(e.next.bind(e,this.snapshot))();break;case Sb:e.complete&&Rb(e.complete.bind(e))();break;default:e.error&&Rb(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Lb=function(){function e(t,n){u(this,e),this._service=t,this._location=n instanceof Tk?n:Tk.makeFromUrl(n,t.host)}return c(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Tk(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return nb(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Tk(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new vk("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Mb(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Ok(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new cb(r,"GET",db(e,n),i);return a.errorHandler=vb(t),a}(e.storage,e._location,ob());return e.storage.makeRequestWithTokens(t,Db).then((function(e){if(null===e)throw new vk("no-download-url","The given file does not have any download URLs.");return e}))}function jb(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Tk(e._location.bucket,n);return new Lb(e.storage,r)}function Ub(e,t){if(e instanceof Bb){var n=e;if(null==n._bucket)throw new vk("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Lb(n,n._bucket);return null!=t?Ub(r,t):r}return void 0!==t?jb(e,t):e}function Fb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Bb)return new Lb(e,t);throw wk("To use ref(service, url), the first argument must be a Storage instance.")}return Ub(e,t)}function Vb(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Tk.makeFromBucketSpec(n,e)}function zb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:nt(i,e.app.options.projectId))}var Bb=function(){function e(t,n,r,i,a){u(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=pk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Tk.makeFromBucketSpec(i,this._host):Vb(this._host,this.app.options)}return c(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Tk.makeFromBucketSpec(this._url,e):this._bucket=Vb(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Ak("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Ak("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ze(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ze(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Lb(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ik(_k());var o=zk(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ze(Fe().mark((function e(t,n){var r,i,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=k(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),qb="@firebase/storage",Hb="0.9.14",Wb="storage";function Kb(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Pb(e,new eb(t),n)}(e=pt(e),t,n)}function Gb(e){return Mb(e=pt(e))}function Qb(e,t){return Fb(e=pt(e),t)}function Xb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};zb(e,t,n,r)}function $b(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Bb(r,i,a,n,un)}nn(new vt(Wb,$b,"PUBLIC").setMultipleInstances(!0)),fn(qb,Hb,""),fn(qb,Hb,"esm2017");var Yb=ln({apiKey:"AIzaSyC-mLAJJYunkKmgVi0-hQEGPE5S22TUvU0",authDomain:"social-media-react-app-401bc.firebaseapp.com",projectId:"social-media-react-app-401bc",storageBucket:"social-media-react-app-401bc.appspot.com",messagingSenderId:"16754577876",appId:"1:16754577876:web:d488e411b5b57d65060641"}),Jb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn(),t=rn(e,"auth");if(t.isInitialized())return t.getImmediate();var n=Bn(e,{popupRedirectResolver:Ro,persistence:[Ia,na,ia]}),r=et("authTokenSyncURL");if(r){var i=Fo(r);Yi(n,i,(function(){return i(n.currentUser)})),$i(n,(function(e){return i(e)}))}var a=Ye("auth");return a&&Jr(n,"http://".concat(a)),n}(Yb),Zb=function(e,t){var n="string"==typeof e?e:t||"(default)",r=rn("object"==typeof e?e:cn(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Je("firestore");i&&zy.apply(void 0,[r].concat(s(i)))}return r}(Yb),ew=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn(),t=arguments.length>1?arguments[1]:void 0,n=rn(e=pt(e),Wb),r=n.getImmediate({identifier:t}),i=Je("storage");return i&&Xb.apply(void 0,[r].concat(s(i))),r}(Yb),tw=n(184),nw=(0,t.createContext)(),rw=function(e){var n=e.children,r=k((0,t.useState)([]),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){var e=function(e,t,n,r){return pt(e).onAuthStateChanged(t,n,r)}(Jb,(function(e){a(e||null)}));return function(){e()}}),[]),(0,tw.jsx)(nw.Provider,{value:{loggedUser:i},children:n})},iw=(0,t.createContext)(),aw=function(e){var n=e.children,r=k((0,t.useState)([]),2),i=r[0],a=r[1],o=k((0,t.useState)(!1),2),s=o[0],u=o[1];return(0,t.useEffect)((function(){uk(Wg(Wy(Zb,"posts"),Gg("timestamp","desc")),(function(e){a(e.docs.map((function(e){return Ct(Ct({},e.data()),{},{id:e.id})}))),u(!0)}))}),[]),(0,tw.jsx)(iw.Provider,{value:{posts:i,isLoading:s},children:n})};function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ow.apply(this,arguments)}function sw(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var uw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function lw(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),A((function(e,t){var n=N(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return I("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:C(t))}),(function(e,t){S("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var s=o.current,u=k(t.useState({action:s.action,location:s.location}),2),l=u[0],c=u[1];return t.useLayoutEffect((function(){return s.listen(c)}),[s]),t.createElement(Oe,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var cw=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,l=e.to,c=e.preventScrollReset,f=sw(e,uw),h=function(e,n){var r=(void 0===n?{}:n).relative;ve()||z(!1);var i=t.useContext(fe),a=i.basename,o=i.navigator,s=be(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,f=l;return"/"!==a&&(f="/"===l?a:K([a,l])),o.createHref({pathname:f,search:c,hash:u})}(l,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=ye(),c=me(),f=be(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:C(c)===C(f);l(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,f,a,o,i,e,s,u])}(l,{replace:o,state:s,target:u,preventScrollReset:c,relative:i});return t.createElement("a",ow({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:u}))}));var fw,hw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(fw||(fw={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(hw||(hw={}));var dw,pw=function(){var e=k((0,t.useState)(""),2),n=e[0],r=e[1],i=ye();return(0,tw.jsxs)("div",{className:"auth",children:[(0,tw.jsxs)("div",{className:"auth__container",children:[(0,tw.jsx)("h1",{children:"Social Media"}),(0,tw.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=t.get("email"),a=t.get("password");""!==n&&""!==a?Xi(Jb,ia).then((function(){(function(e,t,n){return zi(pt(e),_i.credential(t,n))})(Jb,n,a).then((function(){i("/posts")})).catch((function(e){r(e.message)}))})):r("Please fill all the fields!")},children:[(0,tw.jsx)("label",{htmlFor:"email"}),(0,tw.jsx)("input",{type:"text",placeholder:"Email",id:"email",name:"email"}),(0,tw.jsx)("label",{htmlFor:"password"}),(0,tw.jsx)("input",{type:"password",placeholder:"Password",id:"password",name:"password"}),(0,tw.jsx)("button",{type:"submit",children:"Log In"}),(0,tw.jsx)("p",{className:"errors",children:n})]})]}),(0,tw.jsxs)("div",{className:"auth__action",children:[(0,tw.jsx)("p",{children:"Don't have an account?"}),(0,tw.jsx)(cw,{to:"/register",children:"Sign up"})]})]})},vw=(0,t.createContext)(),mw=function(e){var n=e.children,r=k((0,t.useState)([]),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){uk(Wg(Wy(Zb,"users"),Gg("displayName")),(function(e){a(e.docs.map((function(e){return Ct(Ct({},e.data()),{},{id:e.id})})))}))}),[]),(0,tw.jsx)(vw.Provider,{value:{users:i},children:n})},yw=function(){var e=k((0,t.useState)(""),2),n=e[0],r=e[1],i=k((0,t.useState)(!1),2),a=i[0],o=i[1],s=ye(),u=(0,t.useContext)(vw).users;return(0,tw.jsxs)("div",{className:"auth",children:[(0,tw.jsxs)("div",{className:"auth__container",children:[(0,tw.jsx)("h1",{children:"Social Media"}),(0,tw.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=t.get("email"),i=t.get("username"),a=t.get("password"),o=t.get("repeatPassword"),l=t.get("image"),c=u.find((function(e){return e.displayName===i}));""!==n&&""!==a&&""!==o&&""!==l.name?a===o?c?r("This username is already in use!"):i.length<2||i.length>10?r("Username must be more than 2 characters and less then 10!"):Xi(Jb,ia).then(ze(Fe().mark((function e(){var t,r,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(Jb,n,a);case 2:t=e.sent,r=Qb(ew,"/users/".concat(n)),(o=Kb(r,l)).on("state_changed",(function(e){}),(function(e){alert(e.message)}),(function(){Gb(o.snapshot.ref).then((function(e){Gi(t.user,{displayName:i,photoURL:e}),ik(Ky(Zb,"users",t.user.uid),{email:n,displayName:i,image:e,uid:t.user.uid,following:[],followers:[]}),s("/posts")}))}));case 6:case"end":return e.stop()}}),e)})))).catch((function(e){r(e.message)})):r("Your password and confirmation password do not match!"):r("Please fill all the fields!")},children:[(0,tw.jsx)("label",{htmlFor:"email"}),(0,tw.jsx)("input",{type:"text",placeholder:"Email",id:"email",name:"email"}),(0,tw.jsx)("label",{htmlFor:"username"}),(0,tw.jsx)("input",{type:"text",placeholder:"Username",id:"username",name:"username"}),(0,tw.jsx)("label",{htmlFor:"password"}),(0,tw.jsx)("input",{type:"password",placeholder:"Password",id:"password",name:"password"}),(0,tw.jsx)("label",{htmlFor:"repeatPassword"}),(0,tw.jsx)("input",{type:"password",placeholder:"Repeat Password",id:"repeatPassword",name:"repeatPassword"}),(0,tw.jsx)("label",{htmlFor:"image",children:(0,tw.jsx)("i",{className:"fa fa-picture-o fa-lg","aria-hidden":"true",style:{cursor:"pointer"},children:a?"File is added!":"Add a file"})}),(0,tw.jsx)("input",{type:"file",placeholder:"Choose a file",id:"image",name:"image",onChange:function(){return o(!0)}}),(0,tw.jsx)("button",{type:"submit",children:"Register"}),(0,tw.jsx)("p",{className:"errors",children:n})]})]}),(0,tw.jsxs)("div",{className:"auth__action",children:[(0,tw.jsx)("p",{children:"Have an account?"}),(0,tw.jsx)(cw,{to:"/",children:"Log in"})]})]})},gw=function(){return(0,tw.jsx)("footer",{className:"footer",children:(0,tw.jsx)("p",{children:"\xa9 2022 - Borislav Benderov - All Rights Reserved"})})},kw=function(e){var n=e.postId,r=k((0,t.useState)([]),2),i=r[0],a=r[1],o=(0,t.useContext)(nw).loggedUser;return(0,tw.jsx)("div",{className:"comment__container",children:(0,tw.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==i?sk(Wy(Zb,"comments"),{text:i,commentId:n,uid:o.uid,email:o.email,timestamp:fk(),likes:[]}).then((function(){a("")})).catch((function(e){alert(e.message)})):alert("Please enter a valid comment")},children:[(0,tw.jsx)("label",{htmlFor:"comment"}),(0,tw.jsx)("textarea",{className:"comment__textarea",type:"text",id:"comment",name:"comment",placeholder:"Add a comment...",value:i,onChange:function(e){return a(e.target.value)}}),(0,tw.jsx)("button",{type:"submit",className:"post__comment__btn",children:"post"})]})})},bw=function(e){var t=e.postId,n=function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Are you sure you want to delete this post?")&&ok(Ky(Zb,"posts",t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,tw.jsx)("i",{className:"fa fa-trash fa-lg","aria-hidden":"true",onClick:n})},ww=function(e){var n,r,i=e.post,a=(0,t.useContext)(nw).loggedUser,o=function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=i.likes)||void 0===t||!t.includes(a.uid)){e.next=11;break}return e.prev=1,e.next=4,ak(Ky(Zb,"posts",i.id),{likes:dk(a.uid)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0.message);case 9:e.next=19;break;case 11:return e.prev=11,e.next=14,ak(Ky(Zb,"posts",i.id),{likes:hk(a.uid)});case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(11),alert(e.t1.message);case 19:case"end":return e.stop()}}),e,null,[[1,6],[11,16]])})));return function(){return e.apply(this,arguments)}}();return(0,tw.jsx)("i",{className:"fa fa-heart".concat(null!==(n=i.likes)&&void 0!==n&&n.includes(null===a||void 0===a?void 0:a.uid)?"":"-o"," fa-lg"),style:{cursor:"pointer",color:null!==(r=i.likes)&&void 0!==r&&r.includes(null===a||void 0===a?void 0:a.uid)?"red":null},onClick:o})},_w=function(e){var n,r=e.post,i=(0,t.useContext)(nw).loggedUser,a=(0,t.useContext)(vw).users,o=r.ownerId===i.uid,s=a.find((function(e){return e.uid===r.ownerId}));return(0,tw.jsxs)("div",{className:"content__card",children:[(0,tw.jsxs)("div",{className:"name__img",children:[(0,tw.jsx)("img",{src:null===s||void 0===s?void 0:s.image,alt:""}),(0,tw.jsx)(cw,{to:"/profile/".concat(r.ownerId),children:(0,tw.jsx)("h3",{className:"content__card__name",children:null===s||void 0===s?void 0:s.displayName})}),o?(0,tw.jsxs)(tw.Fragment,{children:[(0,tw.jsx)(cw,{to:"/edit/posts/".concat(r.id),children:(0,tw.jsx)("i",{className:"fa fa-pencil-square-o fa-lg","aria-hidden":"true"})}),(0,tw.jsx)(bw,{postId:r.id})]}):(0,tw.jsxs)(tw.Fragment,{children:[(0,tw.jsx)("i",{}),(0,tw.jsx)("i",{})]})]}),(0,tw.jsx)("img",{className:"content__card__img",src:r.image,alt:""}),(0,tw.jsxs)("div",{className:"likes__coments",children:[(0,tw.jsx)(ww,{post:r}),(0,tw.jsx)(cw,{to:"/posts/".concat(r.id),children:(0,tw.jsx)("i",{className:"fa fa-comments-o fa-lg","aria-hidden":"true"})})]}),(0,tw.jsx)("div",{className:"likes__length",children:(null===(n=r.likes)||void 0===n?void 0:n.length)>0?(0,tw.jsx)(cw,{to:"/likes/".concat(r.id),children:(0,tw.jsxs)("p",{children:["Liked by ",r.likes.length," people"]})}):""}),(0,tw.jsxs)("div",{className:"name__description",children:[(0,tw.jsx)("h3",{className:"content__card__name",children:null===s||void 0===s?void 0:s.displayName}),(0,tw.jsx)("p",{children:r.description})]}),(0,tw.jsx)(cw,{className:"view__all__comments",to:"/posts/".concat(r.id),children:"view comments"}),(0,tw.jsx)(kw,{postId:r.id})]})},xw=function(){var e=(0,t.useContext)(iw),n=e.posts,r=e.isLoading,i=(0,t.useContext)(vw).users,a=(0,t.useContext)(nw).loggedUser,o=n.filter((function(e){return e.ownerId===a.uid})),s=i.filter((function(e){return e.followers.includes(a.uid)})),u=n.filter((function(e){return s.find((function(t){return t.uid===e.ownerId}))})).concat(o);return(0,tw.jsx)("main",{children:(0,tw.jsx)("section",{className:"content__container",children:r?u.length>0?u.map((function(e){return(0,tw.jsx)(_w,{post:e},e.id)})):(0,tw.jsxs)("div",{className:"no__posts__show",children:[(0,tw.jsx)("p",{children:"There are no posts to show."}),(0,tw.jsx)("p",{children:"Start follow users!"}),(0,tw.jsxs)(cw,{to:"/users",children:[(0,tw.jsx)("p",{children:"Click Here!"}),(0,tw.jsx)("i",{className:"fa fa-users fa-lg","aria-hidden":"true"})]})]}):(0,tw.jsxs)("div",{class:"lds-roller",children:[(0,tw.jsx)("div",{}),(0,tw.jsx)("div",{}),(0,tw.jsx)("div",{}),(0,tw.jsx)("div",{}),(0,tw.jsx)("div",{}),(0,tw.jsx)("div",{}),(0,tw.jsx)("div",{}),(0,tw.jsx)("div",{})]})})})},Ew={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Sw=new Uint8Array(16);function Tw(){if(!dw&&!(dw="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dw(Sw)}for(var Iw=[],Cw=0;Cw<256;++Cw)Iw.push((Cw+256).toString(16).slice(1));function Nw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Iw[e[t+0]]+Iw[e[t+1]]+Iw[e[t+2]]+Iw[e[t+3]]+"-"+Iw[e[t+4]]+Iw[e[t+5]]+"-"+Iw[e[t+6]]+Iw[e[t+7]]+"-"+Iw[e[t+8]]+Iw[e[t+9]]+"-"+Iw[e[t+10]]+Iw[e[t+11]]+Iw[e[t+12]]+Iw[e[t+13]]+Iw[e[t+14]]+Iw[e[t+15]]).toLowerCase()}var Rw=function(e,t,n){if(Ew.randomUUID&&!t&&!e)return Ew.randomUUID();var r=(e=e||{}).random||(e.rng||Tw)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Nw(r)},Aw=function(){var e=k((0,t.useState)(""),2),n=e[0],r=e[1],i=k((0,t.useState)(!1),2),a=i[0],o=i[1],s=(0,t.useContext)(nw).loggedUser,u=ye();return(0,tw.jsx)("div",{className:"auth",children:(0,tw.jsxs)("div",{className:"auth__container",children:[(0,tw.jsx)("h1",{children:"Create New Post"}),(0,tw.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=t.get("image"),i=t.get("description");if(""!==n.name){var a=Kb(Qb(ew,"/posts/".concat(Rw())),n);a.on("state_changed",(function(e){}),(function(e){r(e.message)}),(function(){Gb(a.snapshot.ref).then((function(e){var t={description:i,image:e,timestamp:fk(),ownerId:s.uid,likes:[]};sk(Wy(Zb,"posts"),t).then((function(){u("/posts")})).catch((function(e){r(e.message)}))}))}))}else r("Please add a file!")},children:[(0,tw.jsx)("label",{htmlFor:"description"}),(0,tw.jsx)("textarea",{className:"textarea__post",type:"text",placeholder:"Write a description...",id:"description",name:"description"}),(0,tw.jsx)("label",{htmlFor:"image",children:(0,tw.jsx)("i",{className:"fa fa-picture-o fa-lg","aria-hidden":"true",style:{cursor:"pointer"},children:a?"File is added!":"Add a file"})}),(0,tw.jsx)("input",{type:"file",placeholder:"Choose a picture",id:"image",name:"image",onChange:function(){return o(!0)}}),(0,tw.jsx)("p",{className:"errors",children:n}),(0,tw.jsx)("button",{type:"submit",children:"Create"})]})]})})},Ow=function(e){var n,r,i=e.comment,a=(0,t.useContext)(nw).loggedUser,o=function(){var e=ze(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=i.likes)||void 0===t||!t.includes(a.uid)){e.next=11;break}return e.prev=1,e.next=4,ak(Ky(Zb,"comments",i.id),{likes:dk(a.uid)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0.message);case 9:e.next=19;break;case 11:return e.prev=11,e.next=14,ak(Ky(Zb,"comments",i.id),{likes:hk(a.uid)});case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(11),alert(e.t1.message);case 19:case"end":return e.stop()}}),e,null,[[1,6],[11,16]])})));return function(){return e.apply(this,arguments)}}();return(0,tw.jsx)("div",{className:"like-container",children:(0,tw.jsx)("i",{className:"fa fa-heart".concat(null!==i&&void 0!==i&&null!==(n=i.likes)&&void 0!==n&&n.includes(null===a||void 0===a?void 0:a.uid)?"":"-o"," fa-lg"),style:{cursor:"pointer",color:null!==i&&void 0!==i&&null!==(r=i.likes)&&void 0!==r&&r.includes(null===a||void 0===a?void 0:a.uid)?"red":null},onClick:o,children:(null===i||void 0===i?void 0:i.likes.length)>0?null===i||void 0===i?void 0:i.likes.length:""})})},Dw=function(e){var n=e.comment,r=(0,t.useContext)(nw).loggedUser,i=(0,t.useContext)(vw).users,a=r.uid===n.uid,o=i.find((function(e){return e.uid===n.uid})),s=function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this comment?")){e.next=10;break}return e.prev=2,e.next=5,ok(Ky(Zb,"comments",n.id));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return(0,tw.jsxs)("div",{className:"postdet",children:[(0,tw.jsx)("img",{src:o.image,alt:""}),(0,tw.jsx)(cw,{to:"/profile/".concat(o.id),children:(0,tw.jsx)("p",{className:"comment__name",children:o.displayName})}),(0,tw.jsx)("p",{className:"comment",children:n.text}),(0,tw.jsx)(Ow,{comment:n}),a?(0,tw.jsx)("button",{className:"delete__comment",onClick:s,children:(0,tw.jsx)("i",{className:"fa fa-times","aria-hidden":"true",style:{color:"black"}})}):""]})},Pw=function(e){var n=e.currentPost,r=k((0,t.useState)([]),2),i=r[0],a=r[1];(0,t.useEffect)((function(){uk(Wg(Wy(Zb,"comments"),Gg("timestamp")),(function(e){a(e.docs.map((function(e){return Ct(Ct({},e.data()),{},{id:e.id})})))}))}),[]);var o=i.filter((function(e){return e.commentId===n.id}));return(0,tw.jsx)("div",{className:"comments__section",children:null===o||void 0===o?void 0:o.map((function(e){return(0,tw.jsx)(Dw,{comment:e},e.id)}))})},Lw=function(){var e,n=k((0,t.useState)([]),2),r=n[0],i=n[1],a=(0,t.useContext)(vw).users,o=ke().postId,s=a.find((function(e){return e.uid===r.ownerId}));return(0,t.useEffect)((function(){uk(Ky(Zb,"posts",o),(function(e){i(Ct(Ct({},e.data()),{},{id:e.id}))}))}),[]),(0,tw.jsxs)("section",{className:"postdetails__container",children:[(0,tw.jsx)("div",{className:"postdetails__image",children:(0,tw.jsx)("img",{className:"postdetails__img",src:r.image,alt:""})}),(0,tw.jsxs)("div",{className:"postdetails__card",children:[(0,tw.jsxs)("div",{className:"name__img",children:[(0,tw.jsx)("img",{src:null===s||void 0===s?void 0:s.image,alt:""}),(0,tw.jsx)(cw,{to:"/profile/".concat(r.ownerId),children:(0,tw.jsx)("h3",{className:"content__card__name",children:null===s||void 0===s?void 0:s.displayName})}),(0,tw.jsx)(cw,{to:"/posts",className:"details__close",children:(0,tw.jsx)("i",{className:"fa fa-times-circle fa-lg","aria-hidden":"true",style:{color:"black"}})})]}),(0,tw.jsx)("div",{className:"name__description",children:(0,tw.jsx)("p",{children:r.description})}),(0,tw.jsx)(Pw,{currentPost:r}),(0,tw.jsxs)("div",{className:"likes__coments",children:[(0,tw.jsx)(ww,{post:r}),(0,tw.jsx)("i",{className:"fa fa-comments-o fa-lg","aria-hidden":"true"})]}),(0,tw.jsx)("div",{className:"likes__length",children:(null===(e=r.likes)||void 0===e?void 0:e.length)>0?(0,tw.jsx)(cw,{to:"/likes/".concat(r.id),children:(0,tw.jsxs)("p",{children:["Liked by ",r.likes.length," people"]})}):""}),(0,tw.jsx)(kw,{postId:r.id})]})]})},Mw=function(e){var n,r=e.userProfile,i=(0,t.useContext)(nw).loggedUser,a=function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.followers.includes(i.uid)){e.next=13;break}return e.prev=1,e.next=4,ak(Ky(Zb,"users",r.id),{followers:dk(i.uid)});case 4:return e.next=6,ak(Ky(Zb,"users",i.uid),{following:dk(r.id)});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.message);case 11:e.next=23;break;case 13:return e.prev=13,e.next=16,ak(Ky(Zb,"users",r.id),{followers:hk(i.uid)});case 16:return e.next=18,ak(Ky(Zb,"users",i.uid),{following:hk(r.id)});case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(13),alert(e.t1.message);case 23:case"end":return e.stop()}}),e,null,[[1,8],[13,20]])})));return function(){return e.apply(this,arguments)}}();return(0,tw.jsx)("button",{className:"followers__button",onClick:a,children:null!==r&&void 0!==r&&null!==(n=r.followers)&&void 0!==n&&n.includes(i.uid)?"Following":"Follow"})},jw=function(){var e,n,r,i,a=(0,t.useContext)(vw).users,o=(0,t.useContext)(iw).posts,s=(0,t.useContext)(nw).loggedUser,u=ke().userId,l=a.find((function(e){return e.uid===u})),c=o.filter((function(e){return e.ownerId===u})),f=(null===s||void 0===s?void 0:s.uid)>(null===l||void 0===l?void 0:l.uid)?(null===s||void 0===s?void 0:s.uid)+(null===l||void 0===l?void 0:l.uid):(null===l||void 0===l?void 0:l.uid)+(null===s||void 0===s?void 0:s.uid),h=function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nk(Ky(Zb,"chats",f));case 3:if(e.sent.exists()){e.next=7;break}return e.next=7,ik(Ky(Zb,"chats",f),{messages:[]});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,tw.jsxs)("section",{className:"content__container",children:[(0,tw.jsxs)("div",{className:"profile__info",children:[(0,tw.jsx)("div",{className:"profile__info__img",children:(0,tw.jsx)("img",{src:null===l||void 0===l?void 0:l.image,alt:""})}),(0,tw.jsxs)("div",{className:"profile__info__details",children:[(0,tw.jsxs)("div",{className:"name__follow__message",children:[(0,tw.jsx)("h3",{children:null===l||void 0===l?void 0:l.displayName}),s.uid!==(null===l||void 0===l?void 0:l.uid)?(0,tw.jsxs)(tw.Fragment,{children:[(0,tw.jsx)(Mw,{userProfile:l}),(0,tw.jsx)(cw,{className:"messages__button",to:"/messages/".concat(f),onClick:h,children:"Message"})]}):(0,tw.jsx)(cw,{to:"/edit/profile/".concat(null===l||void 0===l?void 0:l.uid),children:(0,tw.jsx)("i",{className:"fa fa-pencil-square-o fa-lg","aria-hidden":"true"})})]}),(0,tw.jsxs)("div",{className:"posts__followers",children:[1===c.length?(0,tw.jsxs)("p",{children:[null===c||void 0===c?void 0:c.length," post"]}):(0,tw.jsxs)("p",{children:[null===c||void 0===c?void 0:c.length," posts"]}),1===(null===l||void 0===l||null===(e=l.followers)||void 0===e?void 0:e.length)?(0,tw.jsx)(cw,{to:"/followers/".concat(null===l||void 0===l?void 0:l.uid),children:(0,tw.jsxs)("p",{children:[null===l||void 0===l||null===(n=l.followers)||void 0===n?void 0:n.length," follower"]})}):(0,tw.jsx)(cw,{to:"/followers/".concat(null===l||void 0===l?void 0:l.uid),children:(0,tw.jsxs)("p",{children:[null===l||void 0===l||null===(r=l.followers)||void 0===r?void 0:r.length," followers"]})}),(0,tw.jsx)(cw,{to:"/following/".concat(null===l||void 0===l?void 0:l.uid),children:(0,tw.jsxs)("p",{children:[null===l||void 0===l||null===(i=l.following)||void 0===i?void 0:i.length," following"]})})]}),(0,tw.jsx)("div",{className:"profile__description",children:(0,tw.jsx)("p",{children:null===l||void 0===l?void 0:l.profileDescription})})]})]}),c.map((function(e){return(0,tw.jsx)(_w,{post:e},e.id)}))]})},Uw=function(e){var n=e.chatId,r=e.scroll,i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=(0,t.useContext)(nw).loggedUser,u=function(e){e.preventDefault(),ak(Ky(Zb,"chats",n),{messages:hk({message:a,id:Rw(),image:s.photoURL,uid:s.uid})}).then((function(){o(""),r.current.scrollIntoView({behavior:"smooth"})})).catch((function(e){alert(e.message)}))};return(0,tw.jsxs)("form",{onSubmit:u,onKeyDown:function(e){return"Enter"===e.key?u(e):null},children:[(0,tw.jsx)("label",{htmlFor:"message"}),(0,tw.jsx)("textarea",{className:"textarea",name:"message",id:"message",placeholder:"Message...",value:a,onChange:function(e){return o(e.target.value)}}),a?(0,tw.jsx)("button",{className:"send",type:"submit",children:"Send"}):(0,tw.jsxs)(tw.Fragment,{children:[(0,tw.jsx)("label",{htmlFor:"image",children:(0,tw.jsx)("i",{className:"fa fa-picture-o fa-lg","aria-hidden":"true",style:{cursor:"pointer"}})}),(0,tw.jsx)("input",{type:"file",name:"image",id:"image",onChange:function(e){return function(e){e.preventDefault();var t=e.target.files[0],i=Kb(Qb(ew,"photos/".concat(Rw())),t);i.on("state_changed",(function(e){}),(function(e){alert(e.message)}),(function(){Gb(i.snapshot.ref).then((function(e){ak(Ky(Zb,"chats",n),{messages:hk({message:a,id:Rw(),image:s.photoURL,uid:s.uid,photo:e})}).then((function(){o(""),r.current.scrollIntoView({behavior:"smooth"})})).catch((function(e){alert(e.message)}))}))}))}(e)}})]})]})},Fw=function(e){var n=e.message,r=e.likes,i=e.scroll,a=(0,t.useContext)(nw).loggedUser,o=ke().chatId,s=a.uid===n.uid,u=function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r||void 0===r||!r.includes(n.id)){e.next=11;break}return e.prev=1,e.next=4,ak(Ky(Zb,"chats/".concat(o)),{likes:dk(n.id)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0.message);case 9:e.next=19;break;case 11:return e.prev=11,e.next=14,ak(Ky(Zb,"chats/".concat(o)),{likes:hk(n.id)});case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(11),alert(e.t1.message);case 19:case"end":return e.stop()}}),e,null,[[1,6],[11,16]])})));return function(){return e.apply(this,arguments)}}();return(0,tw.jsxs)("div",{className:"message",style:{flexDirection:s?"row-reverse":""},ref:i,children:[(0,tw.jsx)("img",{src:n.image,className:"message__img",alt:""}),n.message?(0,tw.jsx)("p",{style:{backgroundColor:s?"blueviolet":"gray"},children:n.message}):"",n.photo?(0,tw.jsx)("img",{src:n.photo,className:"message__photo",alt:""}):"",null!==r&&void 0!==r&&r.includes(n.id)||!s?(0,tw.jsx)("i",{className:"fa fa-heart".concat(null!==r&&void 0!==r&&r.includes(n.id)?"":"-o"," fa-lg"),style:{cursor:"pointer",color:null!==r&&void 0!==r&&r.includes(n.id)?"red":null,marginLeft:"5px",marginRight:"5px"},onClick:s?null:u}):""]})},Vw=function(){var e=k((0,t.useState)([]),2),n=e[0],r=e[1],i=k((0,t.useState)([]),2),a=i[0],o=i[1],s=(0,t.useContext)(vw).users,u=(0,t.useContext)(nw).loggedUser,l=ke().chatId,c=(0,t.useRef)(),f=s.filter((function(e){return l.includes(e.uid)})).find((function(e){return e.uid!==(null===u||void 0===u?void 0:u.uid)}));return(0,t.useEffect)((function(){uk(Ky(Zb,"chats",l),(function(e){var t,n;r(null===(t=e.data())||void 0===t?void 0:t.messages.map((function(e){return Ct({},e)}))),o(null===(n=e.data())||void 0===n?void 0:n.likes)}))}),[l]),(0,tw.jsx)("div",{className:"messanger",children:(0,tw.jsxs)("section",{className:"messanger__messages",children:[(0,tw.jsxs)("div",{className:"otheruser__mess__img",children:[(0,tw.jsx)("img",{className:"message__img",src:null===f||void 0===f?void 0:f.image,alt:""}),(0,tw.jsx)("h2",{children:null===f||void 0===f?void 0:f.displayName})]}),(0,tw.jsx)("div",{className:"messages__container",children:n.map((function(e){return(0,tw.jsx)(Fw,{message:e,likes:a,scroll:c},e.id)}))}),(0,tw.jsx)("div",{className:"message__input",children:(0,tw.jsx)(Uw,{chatId:l,scroll:c})})]})})},zw=function(e){var n=e.user,r=(0,t.useContext)(nw).loggedUser,i=(null===r||void 0===r?void 0:r.uid)>(null===n||void 0===n?void 0:n.uid)?(null===r||void 0===r?void 0:r.uid)+(null===n||void 0===n?void 0:n.uid):(null===n||void 0===n?void 0:n.uid)+(null===r||void 0===r?void 0:r.uid),a=function(){var e=ze(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nk(Ky(Zb,"chats",i));case 3:if(e.sent.exists()){e.next=7;break}return e.next=7,ik(Ky(Zb,"chats",i),{messages:[]});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,tw.jsxs)("div",{className:"messanger__otherusers",children:[(0,tw.jsx)(cw,{to:"/messages/".concat(i),onClick:a,children:(0,tw.jsx)("img",{src:n.image,alt:""})}),(0,tw.jsx)(cw,{to:"/messages/".concat(i),onClick:a,children:(0,tw.jsx)("h2",{children:n.displayName})})]},n.id)},Bw=function(){var e=(0,t.useContext)(vw).users,n=(0,t.useContext)(nw).loggedUser,r=e.filter((function(e){return e.uid!==n.uid}));return(0,tw.jsx)("div",{className:"messanger__cont",children:(0,tw.jsxs)("section",{className:"messanger__allusers",children:[(0,tw.jsx)("div",{className:"messanger__curentuser",children:(0,tw.jsxs)("h2",{children:[n.displayName," start chat with:"]})}),r.map((function(e){return(0,tw.jsx)(zw,{user:e},e.id)}))]})})},qw=function(){var e=ye();return(0,tw.jsx)(cw,{to:"#",onClick:function(){(function(e){return pt(e).signOut()})(Jb).then((function(){e("/")})).catch((function(e){alert(e.message)}))},children:(0,tw.jsx)("i",{className:"fa fa-sign-out fa-lg","aria-hidden":"true"})})},Hw=function(){var e=(0,t.useContext)(nw).loggedUser;return(0,tw.jsx)("header",{className:"header__container",children:(0,tw.jsxs)("ul",{className:"nav",children:[(0,tw.jsx)("li",{children:(0,tw.jsx)(cw,{to:"/posts",children:(0,tw.jsx)("i",{className:"fa fa-home fa-lg","aria-hidden":"true"})})}),(0,tw.jsx)("li",{children:(0,tw.jsx)(cw,{to:"/messages",children:(0,tw.jsx)("i",{className:"fa fa-paper-plane fa-lg","aria-hidden":"true"})})}),(0,tw.jsx)("li",{children:(0,tw.jsx)(cw,{to:"/create",children:(0,tw.jsx)("i",{className:"fa fa-plus fa-lg","aria-hidden":"true"})})}),(0,tw.jsx)("li",{children:(0,tw.jsx)(cw,{to:"/profile/".concat(null===e||void 0===e?void 0:e.uid),children:(0,tw.jsx)("i",{className:"fa fa-user fa-lg","aria-hidden":"true"})})}),(0,tw.jsx)("li",{children:(0,tw.jsx)(cw,{to:"/users",children:(0,tw.jsx)("i",{className:"fa fa-users fa-lg","aria-hidden":"true"})})}),(0,tw.jsx)("li",{children:(0,tw.jsx)(qw,{})})]})})},Ww=function(e){var t=e.children;return(0,tw.jsxs)(tw.Fragment,{children:[(0,tw.jsx)(Hw,{}),(0,tw.jsx)(Re,{children:t})]})},Kw=function(){return(0,t.useContext)(nw).loggedUser?(0,tw.jsx)(Re,{}):(0,tw.jsx)(Ne,{to:"/"})},Gw=function(){var e,n=(0,t.useContext)(vw).users,r=(0,t.useContext)(nw).loggedUser,i=ke().userId,a=ye(),o=n.find((function(e){return e.uid===i})),s=k((0,t.useState)({username:null===o||void 0===o?void 0:o.displayName,description:null===o||void 0===o?void 0:o.profileDescription,image:null===o||void 0===o?void 0:o.image}),2),u=s[0],l=s[1],c=function(e){l((function(t){return Ct(Ct({},t),{},Be({},e.target.name,e.target.value))}))};return(0,tw.jsx)("div",{className:"auth",children:(0,tw.jsxs)("div",{className:"auth__container",children:[(0,tw.jsx)("h1",{children:"Edit User"}),(0,tw.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),i=t.get("username"),s=t.get("description"),u=t.get("image");if(n.filter((function(e){return e.uid!==r.uid})).find((function(e){return e.displayName===i})))alert("This username is already in use!");else if(""!==i)if(i.length<2||i.length>10)alert("Username must be more than 2 characters and less then 10!");else if(""===u.name)Gi(r,{photoURL:null===o||void 0===o?void 0:o.image,displayName:i}),ak(Ky(Zb,"users",r.uid),{image:null===o||void 0===o?void 0:o.image,displayName:i,profileDescription:s}).then((function(){a("/profile/".concat(r.uid))})).catch((function(e){alert(e.message)}));else{var l=Kb(Qb(ew,"/users/".concat(null===r||void 0===r?void 0:r.email)),u);l.on("state_changed",(function(e){}),(function(e){alert(e.message)}),(function(){Gb(l.snapshot.ref).then((function(e){Gi(r,{photoURL:e,displayName:i}),ak(Ky(Zb,"users",r.uid),{image:e,displayName:i,profileDescription:s}).then((function(){a("/profile/".concat(r.uid))}))})).catch((function(e){alert(e.message)}))}))}else alert("Please set a username!")},children:[(0,tw.jsx)("label",{htmlFor:"username"}),(0,tw.jsx)("input",{type:"text",placeholder:"Username",id:"username",name:"username",onChange:c,value:u.username}),(0,tw.jsx)("label",{htmlFor:"description"}),(0,tw.jsx)("textarea",{className:"textarea__post",type:"text",placeholder:"Description",id:"description",name:"description",value:u.description,onChange:c}),(0,tw.jsx)("label",{htmlFor:"image",children:(0,tw.jsx)("i",{className:"fa fa-picture-o fa-lg","aria-hidden":"true",style:{cursor:"pointer"},children:"File"})}),(0,tw.jsx)("input",{type:"file",placeholder:"Choose a file",id:"image",name:"image",value:null===(e=u.image)||void 0===e?void 0:e.name,onChange:c}),(0,tw.jsx)("button",{type:"submit",children:"Edit"})]})]})})},Qw=function(){var e=k((0,t.useState)(""),2),n=e[0],r=e[1],i=(0,t.useContext)(iw).posts,a=ke().postId,o=ye(),s=i.find((function(e){return e.id===a})),u=k((0,t.useState)({description:null===s||void 0===s?void 0:s.description}),2),l=u[0],c=u[1];return(0,tw.jsx)("div",{className:"auth",children:(0,tw.jsxs)("div",{className:"auth__container",children:[(0,tw.jsx)("h1",{children:"Edit Post Description"}),(0,tw.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target).get("description");ak(Ky(Zb,"posts",a),{description:t}).then((function(){o("/posts")})).catch((function(e){r(e.message)}))},children:[(0,tw.jsx)("label",{htmlFor:"description"}),(0,tw.jsx)("textarea",{className:"textarea__post",type:"text",placeholder:"Write a description...",id:"description",name:"description",value:l.description,onChange:function(e){return c(e.target.value)}}),(0,tw.jsx)("button",{type:"submit",children:"Edit"}),(0,tw.jsx)("p",{className:"errors",children:n})]})]})})},Xw=function(e){var t=e.user;return(0,tw.jsxs)("div",{className:"messanger__otherusers",children:[(0,tw.jsx)(cw,{to:"/profile/".concat(t.uid),children:(0,tw.jsx)("img",{src:t.image,alt:""})}),(0,tw.jsx)(cw,{to:"/profile/".concat(t.uid),children:(0,tw.jsx)("h2",{children:t.displayName})})]})},$w=function(){var e=(0,t.useContext)(vw).users,n=ke().userId,r=e.find((function(e){return e.uid===n})),i=e.filter((function(e){return r.followers.includes(e.uid)}));return(0,tw.jsx)("div",{className:"messanger__cont",children:(0,tw.jsxs)("section",{className:"messanger__allusers",children:[(0,tw.jsx)("div",{className:"messanger__curentuser",children:(0,tw.jsxs)("h2",{children:[null===r||void 0===r?void 0:r.displayName," followers"]})}),i.length>0?i.map((function(e){return(0,tw.jsx)(Xw,{user:e},e.id)})):(0,tw.jsx)("p",{className:"para__follow",children:"No followers to show!"})]})})},Yw=function(){var e=(0,t.useContext)(vw).users,n=ke().userId,r=e.find((function(e){return e.uid===n})),i=e.filter((function(e){var t;return null===(t=r.following)||void 0===t?void 0:t.includes(e.uid)}));return(0,tw.jsx)("div",{className:"messanger__cont",children:(0,tw.jsxs)("section",{className:"messanger__allusers",children:[(0,tw.jsx)("div",{className:"messanger__curentuser",children:(0,tw.jsxs)("h2",{children:[null===r||void 0===r?void 0:r.displayName," following"]})}),i.length>0?i.map((function(e){return(0,tw.jsx)(Xw,{user:e},e.id)})):(0,tw.jsxs)("p",{className:"para__follow",children:[null===r||void 0===r?void 0:r.displayName," don't follow anyone!"]})]})})},Jw=function(){var e=ke().postId,n=(0,t.useContext)(vw).users,r=(0,t.useContext)(iw).posts.find((function(t){return t.id===e})),i=n.filter((function(e){return null===r||void 0===r?void 0:r.likes.includes(e.uid)}));return(0,tw.jsx)("div",{className:"messanger__cont",children:(0,tw.jsxs)("section",{className:"messanger__allusers",children:[(0,tw.jsx)("div",{className:"messanger__curentuser",children:(0,tw.jsx)("h2",{children:"Liked by:"})}),i.map((function(e){return(0,tw.jsx)(Xw,{user:e},e.id)}))]})})},Zw=function(e){var t=e.user;return(0,tw.jsxs)("div",{className:"messanger__otherusers",children:[(0,tw.jsx)(cw,{to:"/profile/".concat(t.uid),children:(0,tw.jsx)("img",{src:t.image,alt:""})}),(0,tw.jsx)(cw,{to:"/profile/".concat(t.uid),children:(0,tw.jsx)("h2",{children:t.displayName})}),(0,tw.jsx)(Mw,{userProfile:t})]})},e_=function(){var e=(0,t.useContext)(vw).users,n=(0,t.useContext)(nw).loggedUser,r=e.filter((function(e){return!e.followers.includes(n.uid)})).filter((function(e){return e.uid!==n.uid}));return(0,tw.jsx)("div",{className:"messanger__cont",children:(0,tw.jsxs)("section",{className:"messanger__allusers",children:[(0,tw.jsx)("div",{className:"messanger__curentuser",children:(0,tw.jsx)("h2",{children:"Users To Follow"})}),r.length>0?r.map((function(e){return(0,tw.jsx)(Zw,{user:e},e.id)})):(0,tw.jsx)("p",{className:"users__follow__chat",children:"There are no users to follow!"})]})})},t_=function(){return(0,tw.jsx)("div",{className:"not-found",children:(0,tw.jsxs)("div",{className:"not-found-info",children:[(0,tw.jsx)("h2",{children:"404.That's an error."}),(0,tw.jsx)("p",{children:"The requested page was not found on this server."}),(0,tw.jsxs)(cw,{to:"/posts",children:[(0,tw.jsx)("p",{children:"Go Home"}),(0,tw.jsx)("i",{className:"fa fa-home fa-lg","aria-hidden":"true"})]})]})})};var n_=function(){return(0,tw.jsx)("div",{className:"App",children:(0,tw.jsx)(rw,{children:(0,tw.jsx)(aw,{children:(0,tw.jsxs)(mw,{children:[(0,tw.jsxs)(De,{children:[(0,tw.jsx)(Ae,{path:"*",element:(0,tw.jsx)(t_,{})}),(0,tw.jsx)(Ae,{element:(0,tw.jsx)(Kw,{}),children:(0,tw.jsxs)(Ae,{element:(0,tw.jsx)(Ww,{}),children:[(0,tw.jsx)(Ae,{path:"/profile/:userId",element:(0,tw.jsx)(jw,{})}),(0,tw.jsx)(Ae,{path:"/followers/:userId",element:(0,tw.jsx)($w,{})}),(0,tw.jsx)(Ae,{path:"/following/:userId",element:(0,tw.jsx)(Yw,{})}),(0,tw.jsx)(Ae,{path:"/edit/profile/:userId",element:(0,tw.jsx)(Gw,{})}),(0,tw.jsx)(Ae,{path:"/messages/:chatId",element:(0,tw.jsx)(Vw,{})}),(0,tw.jsx)(Ae,{path:"/messages",element:(0,tw.jsx)(Bw,{})}),(0,tw.jsx)(Ae,{path:"/posts",element:(0,tw.jsx)(xw,{})}),(0,tw.jsx)(Ae,{path:"/users",element:(0,tw.jsx)(e_,{})}),(0,tw.jsx)(Ae,{path:"/posts/:postId",element:(0,tw.jsx)(Lw,{})}),(0,tw.jsx)(Ae,{path:"/likes/:postId",element:(0,tw.jsx)(Jw,{})}),(0,tw.jsx)(Ae,{path:"/edit/posts/:postId",element:(0,tw.jsx)(Qw,{})}),(0,tw.jsx)(Ae,{path:"/create",element:(0,tw.jsx)(Aw,{})})]})}),(0,tw.jsx)(Ae,{path:"/",element:(0,tw.jsx)(pw,{})}),(0,tw.jsx)(Ae,{path:"/register",element:(0,tw.jsx)(yw,{})})]}),(0,tw.jsx)(gw,{})]})})})})};i.createRoot(document.getElementById("root")).render((0,tw.jsx)(lw,{children:(0,tw.jsx)(n_,{})}))}()}();
//# sourceMappingURL=main.fe86fd95.js.map